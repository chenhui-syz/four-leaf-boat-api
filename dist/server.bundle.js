/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/api/ContentController.js":
/*!**************************************!*\
  !*** ./src/api/ContentController.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var uuid_dist_v4__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid/dist/v4 */ \"uuid/dist/v4\");\n/* harmony import */ var uuid_dist_v4__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uuid_dist_v4__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/config */ \"./src/config/index.js\");\n/* harmony import */ var _common_Utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/common/Utils */ \"./src/common/Utils.js\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/model/User */ \"./src/model/User.js\");\n/* harmony import */ var _model_Post__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/model/Post */ \"./src/model/Post.js\");\n// import Post from '../model/Post'\n// import Links from '../model/Links'\n\n\n\n\n\n\n\n\n\nclass ContentController {\n  // 获取文章列表\n  async getPostList(ctx) {\n    const body = ctx.query;\n    const sort = body.sort ? body.sort : 'created';\n    const page = body.page ? parseInt(body.page) : 0;\n    const limit = body.limit ? parseInt(body.limit) : 20;\n    const options = {};\n\n    if (typeof body.catalog !== 'undefined' && body.catalog !== '') {\n      options.catalog = body.catalog;\n    }\n\n    if (typeof body.isTop !== 'undefined') {\n      options.isTop = body.isTop;\n    }\n\n    if (typeof body.status !== 'undefined' && body.status !== '') {\n      options.isEnd = body.status;\n    }\n\n    if (typeof body.tag !== 'undefined' && body.tag !== '') {\n      options.tags = {\n        $elemMatch: {\n          name: body.tag\n        }\n      };\n    }\n\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getList(options, sort, page, limit);\n    ctx.body = {\n      code: 200,\n      data: result,\n      msg: '获取文章列表成功'\n    };\n  } // 查询友情链接\n\n\n  async getLinks(ctx) {\n    const result = await Links.find({\n      type: 'links'\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 查询温馨提醒\n\n\n  async getTips(ctx) {\n    const result = await Links.find({\n      type: 'tips'\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 本周热议\n\n\n  async getTopWeek(ctx) {\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getTopWeek();\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 上传图片\n\n\n  async uploadImg(ctx) {\n    const file = ctx.request.files.file;\n    console.log('config.uploadPath', _config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].uploadPath); // 图片的名称，图片的格式，存储的位置，最终返回前台可以读取的路径\n\n    const ext = file.name.split(',').pop();\n    const dir = `${_config__WEBPACK_IMPORTED_MODULE_3__[\"default\"].uploadPath}/avatar/${dayjs__WEBPACK_IMPORTED_MODULE_2___default()().format('YYYYMMDD')}`;\n    console.log('完整的路径', dir);\n    console.log('文件名称', ext); // 判断路径是否存在，不存在则创建\n\n    await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_4__[\"dirExists\"])(dir); // 存储文件到指定的路径\n    // 给文件一个唯一的名称\n\n    const picname = uuid_dist_v4__WEBPACK_IMPORTED_MODULE_1___default()();\n    const destPath = `${dir}/${picname}.${ext}`; // 读取文件流\n    // highWaterMark: 1 * 1024:将每次的上传进度改为1kb\n\n    const reader = fs__WEBPACK_IMPORTED_MODULE_0___default.a.createReadStream(file.path, {\n      highWaterMark: 1 * 1024\n    }); // 导入文件流\n\n    const upStream = fs__WEBPACK_IMPORTED_MODULE_0___default.a.createWriteStream(destPath); // 因为public目录里面的文件都直接做了静态资源分享\n    // 所以把文件的public后的路径+文件名返给前台\n\n    const filePath = `/${dayjs__WEBPACK_IMPORTED_MODULE_2___default()().format('YYYYMMDD')}/${picname}.${ext}`; // 写入文件===>方法1,简单易用\n    // reader.pipe(upStream)\n    // 写入文件===>方法2,应用于大文件，可以监听异常以及文件的上传进度\n    // 默认每次读取64kb\n    // 当前文件已读取的长度\n\n    let totalLength = 0; // 文件总长度\n\n    const stat = fs__WEBPACK_IMPORTED_MODULE_0___default.a.statSync(file.path);\n    console.log('文件总长度', stat.size);\n    reader.on('data', chunk => {\n      totalLength += chunk.length;\n      console.log('读取的长度', totalLength);\n\n      if (upStream.write(chunk) === false) {\n        reader.pause();\n      }\n    });\n    reader.on('drain', () => {\n      reader.resume();\n    });\n    reader.on('end', () => {\n      upStream.end();\n    });\n    ctx.body = {\n      code: 200,\n      msg: '图片上传成功',\n      data: filePath\n    };\n  } // 发表新帖\n\n\n  async addPost(ctx) {\n    const {\n      body\n    } = ctx.request;\n    let sid = body.sid;\n    let code = body.code; // 验证图片验证码的时效性、正确性\n\n    let result = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_4__[\"checkCode\"])(sid, code);\n\n    if (result) {\n      const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_4__[\"getJWTPayload\"])(ctx.header.authorization);\n      console.log('xxxx');\n      console.log(obj); // 判断用户的积分数是否> fav，否则提示用户积分不足，发帖失败\n      // 用户积分足够的时候，新建Post，减除用户对应的积分\n\n      const user = await _model_User__WEBPACK_IMPORTED_MODULE_5__[\"default\"].findByID({\n        _id: obj._id\n      });\n\n      if (user.favs < body.fav) {\n        ctx.body = {\n          code: 501,\n          msg: '积分不足'\n        };\n        return;\n      } else {\n        await _model_User__WEBPACK_IMPORTED_MODULE_5__[\"default\"].updateOne({\n          _id: obj._id\n        }, {\n          $inc: {\n            favs: -body.fav\n          }\n        });\n      }\n\n      const newPost = new _model_Post__WEBPACK_IMPORTED_MODULE_6__[\"default\"](body);\n      newPost.uid = obj._id;\n      const result = await newPost.save();\n      ctx.body = {\n        code: 200,\n        msg: '成功的保存了文章',\n        data: result\n      };\n    } else {\n      // 图片验证码验证失败\n      ctx.body = {\n        code: 500,\n        msg: '图片验证码验证失败'\n      };\n    }\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new ContentController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0NvbnRlbnRDb250cm9sbGVyLmpzPzI1NjUiXSwibmFtZXMiOlsiQ29udGVudENvbnRyb2xsZXIiLCJnZXRQb3N0TGlzdCIsImN0eCIsImJvZHkiLCJxdWVyeSIsInNvcnQiLCJwYWdlIiwicGFyc2VJbnQiLCJsaW1pdCIsIm9wdGlvbnMiLCJjYXRhbG9nIiwiaXNUb3AiLCJzdGF0dXMiLCJpc0VuZCIsInRhZyIsInRhZ3MiLCIkZWxlbU1hdGNoIiwibmFtZSIsInJlc3VsdCIsIlBvc3QiLCJnZXRMaXN0IiwiY29kZSIsImRhdGEiLCJtc2ciLCJnZXRMaW5rcyIsIkxpbmtzIiwiZmluZCIsInR5cGUiLCJnZXRUaXBzIiwiZ2V0VG9wV2VlayIsInVwbG9hZEltZyIsImZpbGUiLCJyZXF1ZXN0IiwiZmlsZXMiLCJjb25zb2xlIiwibG9nIiwiY29uZmlnIiwidXBsb2FkUGF0aCIsImV4dCIsInNwbGl0IiwicG9wIiwiZGlyIiwibWVtZW50IiwiZm9ybWF0IiwiZGlyRXhpc3RzIiwicGljbmFtZSIsInV1aWQiLCJkZXN0UGF0aCIsInJlYWRlciIsImZzIiwiY3JlYXRlUmVhZFN0cmVhbSIsInBhdGgiLCJoaWdoV2F0ZXJNYXJrIiwidXBTdHJlYW0iLCJjcmVhdGVXcml0ZVN0cmVhbSIsImZpbGVQYXRoIiwidG90YWxMZW5ndGgiLCJzdGF0Iiwic3RhdFN5bmMiLCJzaXplIiwib24iLCJjaHVuayIsImxlbmd0aCIsIndyaXRlIiwicGF1c2UiLCJyZXN1bWUiLCJlbmQiLCJhZGRQb3N0Iiwic2lkIiwiY2hlY2tDb2RlIiwib2JqIiwiZ2V0SldUUGF5bG9hZCIsImhlYWRlciIsImF1dGhvcml6YXRpb24iLCJ1c2VyIiwiVXNlciIsImZpbmRCeUlEIiwiX2lkIiwiZmF2cyIsImZhdiIsInVwZGF0ZU9uZSIsIiRpbmMiLCJuZXdQb3N0IiwidWlkIiwic2F2ZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtB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LEVBQUUsVUFGRTtBQUdQRCxZQUFJLEVBQUVKO0FBSEMsT0FBWDtBQUtILEtBaENELE1BZ0NPO0FBQ0g7QUFDQWhCLFNBQUcsQ0FBQ0MsSUFBSixHQUFXO0FBQ1BrQixZQUFJLEVBQUUsR0FEQztBQUVQRSxXQUFHLEVBQUU7QUFGRSxPQUFYO0FBSUg7QUFDSjs7QUExS21COztBQTZLVCxtRUFBSXZCLGlCQUFKLEVBQWYiLCJmaWxlIjoiLi9zcmMvYXBpL0NvbnRlbnRDb250cm9sbGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IFBvc3QgZnJvbSAnLi4vbW9kZWwvUG9zdCdcclxuLy8gaW1wb3J0IExpbmtzIGZyb20gJy4uL21vZGVsL0xpbmtzJ1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnXHJcbmltcG9ydCB1dWlkIGZyb20gJ3V1aWQvZGlzdC92NCdcclxuaW1wb3J0IG1lbWVudCBmcm9tICdkYXlqcydcclxuaW1wb3J0IGNvbmZpZyBmcm9tICdAL2NvbmZpZydcclxuaW1wb3J0IHtcclxuICAgIGRpckV4aXN0cyxcclxuICAgIGdldEpXVFBheWxvYWRcclxufSBmcm9tICdAL2NvbW1vbi9VdGlscydcclxuXHJcbmltcG9ydCB7XHJcbiAgICBjaGVja0NvZGVcclxufSBmcm9tICdAL2NvbW1vbi9VdGlscydcclxuXHJcbmltcG9ydCBVc2VyIGZyb20gJ0AvbW9kZWwvVXNlcidcclxuaW1wb3J0IFBvc3QgZnJvbSAnQC9tb2RlbC9Qb3N0J1xyXG5cclxuY2xhc3MgQ29udGVudENvbnRyb2xsZXIge1xyXG4gICAgLy8g6I635Y+W5paH56ug5YiX6KGoXHJcbiAgICBhc3luYyBnZXRQb3N0TGlzdChjdHgpIHtcclxuICAgICAgICBjb25zdCBib2R5ID0gY3R4LnF1ZXJ5XHJcbiAgICAgICAgY29uc3Qgc29ydCA9IGJvZHkuc29ydCA/IGJvZHkuc29ydCA6ICdjcmVhdGVkJ1xyXG4gICAgICAgIGNvbnN0IHBhZ2UgPSBib2R5LnBhZ2UgPyBwYXJzZUludChib2R5LnBhZ2UpIDogMFxyXG4gICAgICAgIGNvbnN0IGxpbWl0ID0gYm9keS5saW1pdCA/IHBhcnNlSW50KGJvZHkubGltaXQpIDogMjBcclxuICAgICAgICBjb25zdCBvcHRpb25zID0ge31cclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBib2R5LmNhdGFsb2cgIT09ICd1bmRlZmluZWQnICYmIGJvZHkuY2F0YWxvZyAhPT0gJycpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5jYXRhbG9nID0gYm9keS5jYXRhbG9nXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgYm9keS5pc1RvcCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5pc1RvcCA9IGJvZHkuaXNUb3BcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVvZiBib2R5LnN0YXR1cyAhPT0gJ3VuZGVmaW5lZCcgJiYgYm9keS5zdGF0dXMgIT09ICcnKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMuaXNFbmQgPSBib2R5LnN0YXR1c1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIGJvZHkudGFnICE9PSAndW5kZWZpbmVkJyAmJiBib2R5LnRhZyAhPT0gJycpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy50YWdzID0ge1xyXG4gICAgICAgICAgICAgICAgJGVsZW1NYXRjaDoge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGJvZHkudGFnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3QuZ2V0TGlzdChvcHRpb25zLCBzb3J0LCBwYWdlLCBsaW1pdClcclxuXHJcbiAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICAgICAgICBtc2c6ICfojrflj5bmlofnq6DliJfooajmiJDlip8nXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIOafpeivouWPi+aDhemTvuaOpVxyXG4gICAgYXN5bmMgZ2V0TGlua3MoY3R4KSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgTGlua3MuZmluZCh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdsaW5rcydcclxuICAgICAgICB9KVxyXG4gICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDmn6Xor6LmuKnppqjmj5DphpJcclxuICAgIGFzeW5jIGdldFRpcHMoY3R4KSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgTGlua3MuZmluZCh7XHJcbiAgICAgICAgICAgIHR5cGU6ICd0aXBzJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgICAgZGF0YTogcmVzdWx0XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIOacrOWRqOeDreiurlxyXG4gICAgYXN5bmMgZ2V0VG9wV2VlayhjdHgpIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0LmdldFRvcFdlZWsoKVxyXG4gICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDkuIrkvKDlm77niYdcclxuICAgIGFzeW5jIHVwbG9hZEltZyhjdHgpIHtcclxuICAgICAgICBjb25zdCBmaWxlID0gY3R4LnJlcXVlc3QuZmlsZXMuZmlsZVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdjb25maWcudXBsb2FkUGF0aCcsIGNvbmZpZy51cGxvYWRQYXRoKVxyXG4gICAgICAgIC8vIOWbvueJh+eahOWQjeensO+8jOWbvueJh+eahOagvOW8j++8jOWtmOWCqOeahOS9jee9ru+8jOacgOe7iOi/lOWbnuWJjeWPsOWPr+S7peivu+WPlueahOi3r+W+hFxyXG4gICAgICAgIGNvbnN0IGV4dCA9IGZpbGUubmFtZS5zcGxpdCgnLCcpLnBvcCgpXHJcbiAgICAgICAgY29uc3QgZGlyID0gYCR7Y29uZmlnLnVwbG9hZFBhdGh9L2F2YXRhci8ke21lbWVudCgpLmZvcm1hdCgnWVlZWU1NREQnKX1gXHJcbiAgICAgICAgY29uc29sZS5sb2coJ+WujOaVtOeahOi3r+W+hCcsIGRpcilcclxuICAgICAgICBjb25zb2xlLmxvZygn5paH5Lu25ZCN56ewJywgZXh0KVxyXG4gICAgICAgIC8vIOWIpOaWrei3r+W+hOaYr+WQpuWtmOWcqO+8jOS4jeWtmOWcqOWImeWIm+W7ulxyXG4gICAgICAgIGF3YWl0IGRpckV4aXN0cyhkaXIpXHJcbiAgICAgICAgLy8g5a2Y5YKo5paH5Lu25Yiw5oyH5a6a55qE6Lev5b6EXHJcbiAgICAgICAgLy8g57uZ5paH5Lu25LiA5Liq5ZSv5LiA55qE5ZCN56ewXHJcbiAgICAgICAgY29uc3QgcGljbmFtZSA9IHV1aWQoKVxyXG4gICAgICAgIGNvbnN0IGRlc3RQYXRoID0gYCR7ZGlyfS8ke3BpY25hbWV9LiR7ZXh0fWBcclxuICAgICAgICAvLyDor7vlj5bmlofku7bmtYFcclxuICAgICAgICAvLyBoaWdoV2F0ZXJNYXJrOiAxICogMTAyNDrlsIbmr4/mrKHnmoTkuIrkvKDov5vluqbmlLnkuLoxa2JcclxuICAgICAgICBjb25zdCByZWFkZXIgPSBmcy5jcmVhdGVSZWFkU3RyZWFtKGZpbGUucGF0aCwge1xyXG4gICAgICAgICAgICBoaWdoV2F0ZXJNYXJrOiAxICogMTAyNFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLy8g5a+85YWl5paH5Lu25rWBXHJcbiAgICAgICAgY29uc3QgdXBTdHJlYW0gPSBmcy5jcmVhdGVXcml0ZVN0cmVhbShkZXN0UGF0aClcclxuICAgICAgICAvLyDlm6DkuLpwdWJsaWPnm67lvZXph4zpnaLnmoTmlofku7bpg73nm7TmjqXlgZrkuobpnZnmgIHotYTmupDliIbkuqtcclxuICAgICAgICAvLyDmiYDku6Xmiormlofku7bnmoRwdWJsaWPlkI7nmoTot6/lvoQr5paH5Lu25ZCN6L+U57uZ5YmN5Y+wXHJcbiAgICAgICAgY29uc3QgZmlsZVBhdGggPSBgLyR7bWVtZW50KCkuZm9ybWF0KCdZWVlZTU1ERCcpfS8ke3BpY25hbWV9LiR7ZXh0fWBcclxuICAgICAgICAvLyDlhpnlhaXmlofku7Y9PT0+5pa55rOVMSznroDljZXmmJPnlKhcclxuICAgICAgICAvLyByZWFkZXIucGlwZSh1cFN0cmVhbSlcclxuICAgICAgICAvLyDlhpnlhaXmlofku7Y9PT0+5pa55rOVMizlupTnlKjkuo7lpKfmlofku7bvvIzlj6/ku6Xnm5HlkKzlvILluLjku6Xlj4rmlofku7bnmoTkuIrkvKDov5vluqZcclxuICAgICAgICAvLyDpu5jorqTmr4/mrKHor7vlj5Y2NGtiXHJcbiAgICAgICAgLy8g5b2T5YmN5paH5Lu25bey6K+75Y+W55qE6ZW/5bqmXHJcbiAgICAgICAgbGV0IHRvdGFsTGVuZ3RoID0gMFxyXG4gICAgICAgIC8vIOaWh+S7tuaAu+mVv+W6plxyXG4gICAgICAgIGNvbnN0IHN0YXQgPSBmcy5zdGF0U3luYyhmaWxlLnBhdGgpXHJcbiAgICAgICAgY29uc29sZS5sb2coJ+aWh+S7tuaAu+mVv+W6picsIHN0YXQuc2l6ZSlcclxuICAgICAgICByZWFkZXIub24oJ2RhdGEnLCAoY2h1bmspID0+IHtcclxuICAgICAgICAgICAgdG90YWxMZW5ndGggKz0gY2h1bmsubGVuZ3RoXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfor7vlj5bnmoTplb/luqYnLCB0b3RhbExlbmd0aClcclxuICAgICAgICAgICAgaWYgKHVwU3RyZWFtLndyaXRlKGNodW5rKSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIHJlYWRlci5wYXVzZSgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIHJlYWRlci5vbignZHJhaW4nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHJlYWRlci5yZXN1bWUoKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmVhZGVyLm9uKCdlbmQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHVwU3RyZWFtLmVuZCgpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgICAgbXNnOiAn5Zu+54mH5LiK5Lyg5oiQ5YqfJyxcclxuICAgICAgICAgICAgZGF0YTogZmlsZVBhdGhcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIOWPkeihqOaWsOW4llxyXG4gICAgYXN5bmMgYWRkUG9zdChjdHgpIHtcclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgIGJvZHlcclxuICAgICAgICB9ID0gY3R4LnJlcXVlc3RcclxuICAgICAgICBsZXQgc2lkID0gYm9keS5zaWRcclxuICAgICAgICBsZXQgY29kZSA9IGJvZHkuY29kZVxyXG4gICAgICAgIC8vIOmqjOivgeWbvueJh+mqjOivgeeggeeahOaXtuaViOaAp+OAgeato+ehruaAp1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBjaGVja0NvZGUoc2lkLCBjb2RlKVxyXG4gICAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUUGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd4eHh4JylcclxuICAgICAgICAgICAgY29uc29sZS5sb2cob2JqKVxyXG4gICAgICAgICAgICAvLyDliKTmlq3nlKjmiLfnmoTnp6/liIbmlbDmmK/lkKY+IGZhdu+8jOWQpuWImeaPkOekuueUqOaIt+enr+WIhuS4jei2s++8jOWPkeW4luWksei0pVxyXG4gICAgICAgICAgICAvLyDnlKjmiLfnp6/liIbotrPlpJ/nmoTml7blgJnvvIzmlrDlu7pQb3N077yM5YeP6Zmk55So5oi35a+55bqU55qE56ev5YiGXHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlEKHtcclxuICAgICAgICAgICAgICAgIF9pZDogb2JqLl9pZFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBpZiAodXNlci5mYXZzIDwgYm9keS5mYXYpIHtcclxuICAgICAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IDUwMSxcclxuICAgICAgICAgICAgICAgICAgICBtc2c6ICfnp6/liIbkuI3otrMnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IFVzZXIudXBkYXRlT25lKHtcclxuICAgICAgICAgICAgICAgICAgICBfaWQ6IG9iai5faWRcclxuICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAkaW5jOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhdnM6IC1ib2R5LmZhdlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgbmV3UG9zdCA9IG5ldyBQb3N0KGJvZHkpXHJcbiAgICAgICAgICAgIG5ld1Bvc3QudWlkID0gb2JqLl9pZFxyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBuZXdQb3N0LnNhdmUoKVxyXG4gICAgICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgICAgICAgIG1zZzogJ+aIkOWKn+eahOS/neWtmOS6huaWh+eroCcsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiByZXN1bHRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIOWbvueJh+mqjOivgeeggemqjOivgeWksei0pVxyXG4gICAgICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICAgICAgICAgIG1zZzogJ+WbvueJh+mqjOivgeeggemqjOivgeWksei0pSdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbmV3IENvbnRlbnRDb250cm9sbGVyKCkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/api/ContentController.js\n");

/***/ }),

/***/ "./src/api/LoginController.js":
/*!************************************!*\
  !*** ./src/api/LoginController.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_MailConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/MailConfig */ \"./src/config/MailConfig.js\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bcrypt__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/config */ \"./src/config/index.js\");\n/* harmony import */ var _common_Utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/common/Utils */ \"./src/common/Utils.js\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/model/User */ \"./src/model/User.js\");\n/* harmony import */ var _model_SignRecord__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../model/SignRecord */ \"./src/model/SignRecord.js\");\n\n\n\n\n\n\n\n\n\nclass LoginController {\n  constructor() {}\n\n  async forget(ctx) {\n    const {\n      body\n    } = ctx.request;\n    console.log(body);\n\n    try {\n      // body.username -> database -> email\n      let result = await Object(_config_MailConfig__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        // 邀请码，可选\n        code: '1234',\n        // 过期时间，可选\n        expire: dayjs__WEBPACK_IMPORTED_MODULE_2___default()().add(30, 'minutes').format('YYYY-MM-DD HH:mm:ss'),\n        // 发送邮箱，必选\n        email: body.username,\n        // 用户的昵称，可选\n        user: 'Username'\n      });\n      ctx.body = {\n        code: 200,\n        data: result,\n        msg: '邮件发送成功'\n      };\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  async login(ctx) {\n    // 接收用户的数据\n    // 返回token\n    const {\n      body\n    } = ctx.request;\n    let sid = body.sid;\n    let code = body.code; // 验证图片验证码的时效性、正确性\n\n    let result = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_5__[\"checkCode\"])(sid, code);\n\n    if (result) {\n      // 验证用户账号密码是否正确\n      let checkUserPasswd = false;\n      let user = await _model_User__WEBPACK_IMPORTED_MODULE_6__[\"default\"].findOne({\n        username: body.username\n      });\n\n      if (await bcrypt__WEBPACK_IMPORTED_MODULE_1___default.a.compare(body.password, user.password)) {\n        checkUserPasswd = true;\n      } // mongoDB查库\n\n\n      if (checkUserPasswd) {\n        // 验证通过，返回Token数据\n        console.log('Hello login');\n        const userObj = user.toJSON(); // 返回给前端用户信息的时候，先过滤掉下面这几项\n\n        const arr = ['password', 'username', 'mobile'];\n        arr.map(item => {\n          delete userObj[item];\n        });\n        const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_3___default.a.sign({\n          _id: userObj._id\n        }, _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].JWT_SECRET, {\n          expiresIn: '1d'\n        }); // 加入isSign属性\n\n        const signRecord = await _model_SignRecord__WEBPACK_IMPORTED_MODULE_7__[\"default\"].findByUid(userObj._id);\n\n        if (signRecord !== null) {\n          if (dayjs__WEBPACK_IMPORTED_MODULE_2___default()(signRecord.created).format('YYYY-MM-DD') === dayjs__WEBPACK_IMPORTED_MODULE_2___default()().format('YYYY-MM-DD')) {\n            userObj.isSign = true;\n          } else {\n            userObj.isSign = false;\n          }\n\n          userObj.lastSign = signRecord.created;\n        } else {\n          // 用户无签到记录\n          userObj.isSign = false;\n        }\n\n        ctx.body = {\n          code: 200,\n          data: userObj,\n          token: token\n        };\n      } else {\n        // 用户名 密码验证失败，返回提示\n        ctx.body = {\n          code: 404,\n          msg: '用户名或者密码错误'\n        };\n      }\n    } else {\n      // 图片验证码校验失败\n      ctx.body = {\n        code: 401,\n        msg: '图片验证码不正确,请检查！'\n      };\n    }\n  }\n\n  async reg(ctx) {\n    // 接收客户端的数据\n    const {\n      body\n    } = ctx.request; // 校验验证码的内容（时效性、有效性）\n\n    let sid = body.sid;\n    let code = body.code;\n    let msg = {}; // 验证图片验证码的时效性、正确性\n\n    let result = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_5__[\"checkCode\"])(sid, code);\n    let check = true;\n\n    if (result) {\n      // 查库，看username是否被注册\n      let user1 = await _model_User__WEBPACK_IMPORTED_MODULE_6__[\"default\"].findOne({\n        username: body.username\n      });\n\n      if (user1 !== null && typeof user1.username !== 'undefined') {\n        msg.username = ['此邮箱已经注册，可以通过邮箱找回密码'];\n        check = false;\n      }\n\n      let user2 = await _model_User__WEBPACK_IMPORTED_MODULE_6__[\"default\"].findOne({\n        name: body.name\n      }); // 查库，看name是否被注册\n\n      if (user2 !== null && typeof user2.name !== 'undefined') {\n        msg.name = ['此昵称已经被注册，请修改'];\n        check = false;\n      } // 写入数据到数据库\n\n\n      if (check) {\n        body.password = await bcrypt__WEBPACK_IMPORTED_MODULE_1___default.a.hash(body.password, 5);\n        let user = new _model_User__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\n          username: body.username,\n          name: body.name,\n          password: body.password,\n          created: dayjs__WEBPACK_IMPORTED_MODULE_2___default()().format('YYYY-MM-DD HH:mm:ss')\n        });\n        let result = await user.save();\n        ctx.body = {\n          code: 200,\n          data: result,\n          msg: '注册成功'\n        };\n        return;\n      }\n    } else {\n      // veevalidate 显示的错误\n      msg.code = ['验证码已经失效，请重新获取！'];\n    }\n\n    ctx.body = {\n      code: 500,\n      msg: msg\n    };\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new LoginController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0xvZ2luQ29udHJvbGxlci5qcz85NTA3Il0sIm5hbWVzIjpbIkxvZ2luQ29udHJvbGxlciIsImNvbnN0cnVjdG9yIiwiZm9yZ2V0IiwiY3R4IiwiYm9keSIsInJlcXVlc3QiLCJjb25zb2xlIiwibG9nIiwicmVzdWx0Iiwic2VuZCIsImNvZGUiLCJleHBpcmUiLCJtb21lbnQiLCJhZGQiLCJmb3JtYXQiLCJlbWFpbCIsInVzZXJuYW1lIiwidXNlciIsImRhdGEiLCJtc2ciLCJlIiwibG9naW4iLCJzaWQiLCJjaGVja0NvZGUiLCJjaGVja1VzZXJQYXNzd2QiLCJVc2VyIiwiZmluZE9uZSIsImJjcnlwdCIsImNvbXBhcmUiLCJwYXNzd29yZCIsInVzZXJPYmoiLCJ0b0pTT04iLCJhcnIiLCJtYXAiLCJpdGVtIiwidG9rZW4iLCJqc29ud2VidG9rZW4iLCJzaWduIiwiX2lkIiwiY29uZmlnIiwiSldUX1NFQ1JFVCIsImV4cGlyZXNJbiIsInNpZ25SZWNvcmQiLCJTaWduUmVjb3JkIiwiZmluZEJ5VWlkIiwiY3JlYXRlZCIsImlzU2lnbiIsImxhc3RTaWduIiwicmVnIiwiY2hlY2siLCJ1c2VyMSIsInVzZXIyIiwibmFtZSIsImhhc2giLCJzYXZlIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBOztBQUVBLE1BQU1BLGVBQU4sQ0FBc0I7QUFDcEJDLGFBQVcsR0FBRyxDQUFFOztBQUNoQixRQUFNQyxNQUFOLENBQWFDLEdBQWIsRUFBa0I7QUFDaEIsVUFBTTtBQUNKQztBQURJLFFBRUZELEdBQUcsQ0FBQ0UsT0FGUjtBQUdBQyxXQUFPLENBQUNDLEdBQVIsQ0FBWUgsSUFBWjs7QUFDQSxRQUFJO0FBQ0Y7QUFDQSxVQUFJSSxNQUFNLEdBQUcsTUFBTUMsa0VBQUksQ0FB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anMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc2VuZCBmcm9tICdAL2NvbmZpZy9NYWlsQ29uZmlnJ1xyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCdcclxuaW1wb3J0IG1vbWVudCBmcm9tICdkYXlqcydcclxuaW1wb3J0IGpzb253ZWJ0b2tlbiBmcm9tICdqc29ud2VidG9rZW4nXHJcbmltcG9ydCBjb25maWcgZnJvbSAnQC9jb25maWcnXHJcbmltcG9ydCB7XHJcbiAgY2hlY2tDb2RlXHJcbn0gZnJvbSAnQC9jb21tb24vVXRpbHMnXHJcbmltcG9ydCBVc2VyIGZyb20gJ0AvbW9kZWwvVXNlcidcclxuaW1wb3J0IFNpZ25SZWNvcmQgZnJvbSAnLi4vbW9kZWwvU2lnblJlY29yZCdcclxuXHJcbmNsYXNzIExvZ2luQ29udHJvbGxlciB7XHJcbiAgY29uc3RydWN0b3IoKSB7fVxyXG4gIGFzeW5jIGZvcmdldChjdHgpIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgYm9keVxyXG4gICAgfSA9IGN0eC5yZXF1ZXN0XHJcbiAgICBjb25zb2xlLmxvZyhib2R5KVxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gYm9keS51c2VybmFtZSAtPiBkYXRhYmFzZSAtPiBlbWFpbFxyXG4gICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgc2VuZCh7XHJcbiAgICAgICAgLy8g6YKA6K+356CB77yM5Y+v6YCJXHJcbiAgICAgICAgY29kZTogJzEyMzQnLFxyXG4gICAgICAgIC8vIOi/h+acn+aXtumXtO+8jOWPr+mAiVxyXG4gICAgICAgIGV4cGlyZTogbW9tZW50KClcclxuICAgICAgICAgIC5hZGQoMzAsICdtaW51dGVzJylcclxuICAgICAgICAgIC5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKSxcclxuICAgICAgICAvLyDlj5HpgIHpgq7nrrHvvIzlv4XpgIlcclxuICAgICAgICBlbWFpbDogYm9keS51c2VybmFtZSxcclxuICAgICAgICAvLyDnlKjmiLfnmoTmmLXnp7DvvIzlj6/pgIlcclxuICAgICAgICB1c2VyOiAnVXNlcm5hbWUnLFxyXG4gICAgICB9KVxyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICAgIG1zZzogJ+mCruS7tuWPkemAgeaIkOWKnycsXHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5sb2coZSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGxvZ2luKGN0eCkge1xyXG4gICAgLy8g5o6l5pS255So5oi355qE5pWw5o2uXHJcbiAgICAvLyDov5Tlm550b2tlblxyXG4gICAgY29uc3Qge1xyXG4gICAgICBib2R5XHJcbiAgICB9ID0gY3R4LnJlcXVlc3RcclxuICAgIGxldCBzaWQgPSBib2R5LnNpZFxyXG4gICAgbGV0IGNvZGUgPSBib2R5LmNvZGVcclxuICAgIC8vIOmqjOivgeWbvueJh+mqjOivgeeggeeahOaXtuaViOaAp+OAgeato+ehruaAp1xyXG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IGNoZWNrQ29kZShzaWQsIGNvZGUpXHJcbiAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgIC8vIOmqjOivgeeUqOaIt+i0puWPt+WvhueggeaYr+WQpuato+ehrlxyXG4gICAgICBsZXQgY2hlY2tVc2VyUGFzc3dkID0gZmFsc2VcclxuICAgICAgbGV0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe1xyXG4gICAgICAgIHVzZXJuYW1lOiBib2R5LnVzZXJuYW1lXHJcbiAgICAgIH0pXHJcbiAgICAgIGlmIChhd2FpdCBiY3J5cHQuY29tcGFyZShib2R5LnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKSkge1xyXG4gICAgICAgIGNoZWNrVXNlclBhc3N3ZCA9IHRydWVcclxuICAgICAgfVxyXG4gICAgICAvLyBtb25nb0RC5p+l5bqTXHJcbiAgICAgIGlmIChjaGVja1VzZXJQYXNzd2QpIHtcclxuICAgICAgICAvLyDpqozor4HpgJrov4fvvIzov5Tlm55Ub2tlbuaVsOaNrlxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdIZWxsbyBsb2dpbicpXHJcbiAgICAgICAgY29uc3QgdXNlck9iaiA9IHVzZXIudG9KU09OKClcclxuICAgICAgICAvLyDov5Tlm57nu5nliY3nq6/nlKjmiLfkv6Hmga/nmoTml7blgJnvvIzlhYjov4fmu6TmjonkuIvpnaLov5nlh6DpoblcclxuICAgICAgICBjb25zdCBhcnIgPSBbJ3Bhc3N3b3JkJywgJ3VzZXJuYW1lJywgJ21vYmlsZSddXHJcbiAgICAgICAgYXJyLm1hcCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgZGVsZXRlIHVzZXJPYmpbaXRlbV1cclxuICAgICAgICB9KVxyXG4gICAgICAgIGNvbnN0IHRva2VuID0ganNvbndlYnRva2VuLnNpZ24oe1xyXG4gICAgICAgICAgX2lkOiB1c2VyT2JqLl9pZFxyXG4gICAgICAgIH0sIGNvbmZpZy5KV1RfU0VDUkVULCB7XHJcbiAgICAgICAgICBleHBpcmVzSW46ICcxZCdcclxuICAgICAgICB9KVxyXG4gICAgICAgIC8vIOWKoOWFpWlzU2lnbuWxnuaAp1xyXG4gICAgICAgIGNvbnN0IHNpZ25SZWNvcmQgPSBhd2FpdCBTaWduUmVjb3JkLmZpbmRCeVVpZCh1c2VyT2JqLl9pZClcclxuICAgICAgICBpZiAoc2lnblJlY29yZCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgaWYgKG1vbWVudChzaWduUmVjb3JkLmNyZWF0ZWQpLmZvcm1hdCgnWVlZWS1NTS1ERCcpID09PSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKSkge1xyXG4gICAgICAgICAgICB1c2VyT2JqLmlzU2lnbiA9IHRydWVcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHVzZXJPYmouaXNTaWduID0gZmFsc2VcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHVzZXJPYmoubGFzdFNpZ24gPSBzaWduUmVjb3JkLmNyZWF0ZWRcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8g55So5oi35peg562+5Yiw6K6w5b2VXHJcbiAgICAgICAgICB1c2VyT2JqLmlzU2lnbiA9IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgICAgZGF0YTogdXNlck9iaixcclxuICAgICAgICAgIHRva2VuOiB0b2tlblxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyDnlKjmiLflkI0g5a+G56CB6aqM6K+B5aSx6LSl77yM6L+U5Zue5o+Q56S6XHJcbiAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICBjb2RlOiA0MDQsXHJcbiAgICAgICAgICBtc2c6ICfnlKjmiLflkI3miJbogIXlr4bnoIHplJnor68nXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyDlm77niYfpqozor4HnoIHmoKHpqozlpLHotKVcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNDAxLFxyXG4gICAgICAgIG1zZzogJ+WbvueJh+mqjOivgeeggeS4jeato+ehrizor7fmo4Dmn6XvvIEnXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIHJlZyhjdHgpIHtcclxuICAgIC8vIOaOpeaUtuWuouaIt+err+eahOaVsOaNrlxyXG4gICAgY29uc3Qge1xyXG4gICAgICBib2R5XHJcbiAgICB9ID0gY3R4LnJlcXVlc3RcclxuICAgIC8vIOagoemqjOmqjOivgeeggeeahOWGheWuue+8iOaXtuaViOaAp+OAgeacieaViOaAp++8iVxyXG4gICAgbGV0IHNpZCA9IGJvZHkuc2lkXHJcbiAgICBsZXQgY29kZSA9IGJvZHkuY29kZVxyXG4gICAgbGV0IG1zZyA9IHt9XHJcbiAgICAvLyDpqozor4Hlm77niYfpqozor4HnoIHnmoTml7bmlYjmgKfjgIHmraPnoa7mgKdcclxuICAgIGxldCByZXN1bHQgPSBhd2FpdCBjaGVja0NvZGUoc2lkLCBjb2RlKVxyXG4gICAgbGV0IGNoZWNrID0gdHJ1ZVxyXG4gICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAvLyDmn6XlupPvvIznnIt1c2VybmFtZeaYr+WQpuiiq+azqOWGjFxyXG4gICAgICBsZXQgdXNlcjEgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe1xyXG4gICAgICAgIHVzZXJuYW1lOiBib2R5LnVzZXJuYW1lXHJcbiAgICAgIH0pXHJcbiAgICAgIGlmICh1c2VyMSAhPT0gbnVsbCAmJiB0eXBlb2YgdXNlcjEudXNlcm5hbWUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgbXNnLnVzZXJuYW1lID0gWyfmraTpgq7nrrHlt7Lnu4/ms6jlhozvvIzlj6/ku6XpgJrov4fpgq7nrrHmib7lm57lr4bnoIEnXVxyXG4gICAgICAgIGNoZWNrID0gZmFsc2VcclxuICAgICAgfVxyXG4gICAgICBsZXQgdXNlcjIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe1xyXG4gICAgICAgIG5hbWU6IGJvZHkubmFtZVxyXG4gICAgICB9KVxyXG4gICAgICAvLyDmn6XlupPvvIznnItuYW1l5piv5ZCm6KKr5rOo5YaMXHJcbiAgICAgIGlmICh1c2VyMiAhPT0gbnVsbCAmJiB0eXBlb2YgdXNlcjIubmFtZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBtc2cubmFtZSA9IFsn5q2k5pi156ew5bey57uP6KKr5rOo5YaM77yM6K+35L+u5pS5J11cclxuICAgICAgICBjaGVjayA9IGZhbHNlXHJcbiAgICAgIH1cclxuICAgICAgLy8g5YaZ5YWl5pWw5o2u5Yiw5pWw5o2u5bqTXHJcbiAgICAgIGlmIChjaGVjaykge1xyXG4gICAgICAgIGJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChib2R5LnBhc3N3b3JkLCA1KVxyXG4gICAgICAgIGxldCB1c2VyID0gbmV3IFVzZXIoe1xyXG4gICAgICAgICAgdXNlcm5hbWU6IGJvZHkudXNlcm5hbWUsXHJcbiAgICAgICAgICBuYW1lOiBib2R5Lm5hbWUsXHJcbiAgICAgICAgICBwYXNzd29yZDogYm9keS5wYXNzd29yZCxcclxuICAgICAgICAgIGNyZWF0ZWQ6IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpXHJcbiAgICAgICAgfSlcclxuICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgdXNlci5zYXZlKClcclxuICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgICAgIG1zZzogJ+azqOWGjOaIkOWKnydcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIHZlZXZhbGlkYXRlIOaYvuekuueahOmUmeivr1xyXG4gICAgICBtc2cuY29kZSA9IFsn6aqM6K+B56CB5bey57uP5aSx5pWI77yM6K+36YeN5paw6I635Y+W77yBJ11cclxuICAgIH1cclxuICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICBjb2RlOiA1MDAsXHJcbiAgICAgIG1zZzogbXNnXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgTG9naW5Db250cm9sbGVyKCkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/api/LoginController.js\n");

/***/ }),

/***/ "./src/api/PublicController.js":
/*!*************************************!*\
  !*** ./src/api/PublicController.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var svg_captcha__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svg-captcha */ \"svg-captcha\");\n/* harmony import */ var svg_captcha__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_captcha__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/config/RedisConfig */ \"./src/config/RedisConfig.js\");\n\n\n\nclass PublicController {\n  constructor() {}\n\n  async getCaptcha(ctx) {\n    const body = ctx.request.query;\n    const newCaptca = svg_captcha__WEBPACK_IMPORTED_MODULE_0___default.a.create({\n      size: 4,\n      ignoreChars: '0o1il',\n      color: true,\n      noise: Math.floor(Math.random() * 5),\n      width: 150,\n      height: 38\n    }); // 保存图片验证码数据，设置超时时间，单位: s\n    // 设置图片验证码超时10分钟\n\n    Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_1__[\"setValue\"])(body.sid, newCaptca.text, 10 * 60);\n    ctx.body = {\n      code: 200,\n      data: newCaptca.data\n    };\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new PublicController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL1B1YmxpY0NvbnRyb2xsZXIuanM/NjhhZSJdLCJuYW1lcyI6WyJQdWJsaWNDb250cm9sbGVyIiwiY29uc3RydWN0b3IiLCJnZXRDYXB0Y2hhIiwiY3R4IiwiYm9keSIsInJlcXVlc3QiLCJxdWVyeSIsIm5ld0NhcHRjYSIsInN2Z0NhcHRjaGEiLCJjcmVhdGUiLCJzaXplIiwiaWdub3JlQ2hhcnMiLCJjb2xvciIsIm5vaXNlIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwid2lkdGgiLCJoZWlnaHQiLCJzZXRWYWx1ZSIsInNpZCIsInRleHQiLCJjb2RlIiwiZGF0YSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBOztBQUtBLE1BQU1BLGdCQUFOLENBQXVCO0FBQ3JCQyxhQUFXLEdBQUcsQ0FBRTs7QUFDaEIsUUFBTUMsVUFBTixDQUFpQkMsR0FBakIsRUFBc0I7QUFDcEIsVUFBTUMsSUFBSSxHQUFHRCxHQUFHLENBQUNFLE9BQUosQ0FBWUMsS0FBekI7QUFDQSxVQUFNQyxTQUFTLEdBQUdDLGtEQUFVLENBQUNDLE1BQVgsQ0FBa0I7QUFDbENDLFVBQUksRUFBRSxDQUQ0QjtBQUVsQ0MsaUJBQVcsRUFBRSxPQUZxQjtBQUdsQ0MsV0FBSyxFQUFFLElBSDJCO0FBSWxDQyxXQUFLLEVBQUVDLElBQUksQ0FBQ0MsS0FBTCxDQUFXRCxJQUFJLENBQUNFLE1BQUwsS0FBZ0IsQ0FBM0IsQ0FKMkI7QUFLbENDLFdBQUssRUFBRSxHQUwyQjtBQU1sQ0MsWUFBTSxFQUFFO0FBTjBCLEtBQWxCLENBQWxCLENBRm9CLENBVXBCO0FBQ0E7O0FBQ0FDLHdFQUFRLENBQUNmLElBQUksQ0FBQ2dCLEdBQU4sRUFBV2IsU0FBUyxDQUFDYyxJQUFyQixFQUEyQixLQUFLLEVBQWhDLENBQVI7QUFDQWxCLE9BQUcsQ0FBQ0MsSUFBSixHQUFXO0FBQ1RrQixVQUFJLEVBQUUsR0FERztBQUVUQyxVQUFJLEVBQUVoQixTQUFTLENBQUNnQjtBQUZQLEtBQVg7QUFJRDs7QUFuQm9COztBQXNCUixtRUFBSXZCLGdCQUFKLEVBQWYiLCJmaWxlIjoiLi9zcmMvYXBpL1B1YmxpY0NvbnRyb2xsZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc3ZnQ2FwdGNoYSBmcm9tICdzdmctY2FwdGNoYSdcclxuaW1wb3J0IHtcclxuICBzZXRWYWx1ZVxyXG59IGZyb20gJ0AvY29uZmlnL1JlZGlzQ29uZmlnJ1xyXG5cclxuXHJcbmNsYXNzIFB1YmxpY0NvbnRyb2xsZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge31cclxuICBhc3luYyBnZXRDYXB0Y2hhKGN0eCkge1xyXG4gICAgY29uc3QgYm9keSA9IGN0eC5yZXF1ZXN0LnF1ZXJ5XHJcbiAgICBjb25zdCBuZXdDYXB0Y2EgPSBzdmdDYXB0Y2hhLmNyZWF0ZSh7XHJcbiAgICAgIHNpemU6IDQsXHJcbiAgICAgIGlnbm9yZUNoYXJzOiAnMG8xaWwnLFxyXG4gICAgICBjb2xvcjogdHJ1ZSxcclxuICAgICAgbm9pc2U6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDUpLFxyXG4gICAgICB3aWR0aDogMTUwLFxyXG4gICAgICBoZWlnaHQ6IDM4LFxyXG4gICAgfSlcclxuICAgIC8vIOS/neWtmOWbvueJh+mqjOivgeeggeaVsOaNru+8jOiuvue9rui2heaXtuaXtumXtO+8jOWNleS9jTogc1xyXG4gICAgLy8g6K6+572u5Zu+54mH6aqM6K+B56CB6LaF5pe2MTDliIbpkp9cclxuICAgIHNldFZhbHVlKGJvZHkuc2lkLCBuZXdDYXB0Y2EudGV4dCwgMTAgKiA2MClcclxuICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICBjb2RlOiAyMDAsXHJcbiAgICAgIGRhdGE6IG5ld0NhcHRjYS5kYXRhLFxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbmV3IFB1YmxpY0NvbnRyb2xsZXIoKSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/api/PublicController.js\n");

/***/ }),

/***/ "./src/api/UserController.js":
/*!***********************************!*\
  !*** ./src/api/UserController.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/SignRecord */ \"./src/model/SignRecord.js\");\n/* harmony import */ var _common_Utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/Utils.js */ \"./src/common/Utils.js\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model/User */ \"./src/model/User.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _config_MailConfig__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/config/MailConfig */ \"./src/config/MailConfig.js\");\n/* harmony import */ var uuid_dist_v4__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! uuid/dist/v4 */ \"uuid/dist/v4\");\n/* harmony import */ var uuid_dist_v4__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(uuid_dist_v4__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/config/RedisConfig */ \"./src/config/RedisConfig.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/config */ \"./src/config/index.js\");\n\n\n\n\n\n\n\n\n\n\nclass UserController {\n  // 用户签到接口\n  async userSign(ctx) {\n    // 取用户的ID\n    const obj = await Object(_common_Utils_js__WEBPACK_IMPORTED_MODULE_1__[\"getJWTPayload\"])(ctx.header.authorization); // 查看用户上一次的签到记录\n\n    const record = await _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByUid(obj._id); // 查询出用户的基本信息\n\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findByID(obj._id);\n    let newRecord = {};\n    let result = ''; // 判断签到逻辑\n\n    if (record !== null) {\n      // 有历史的签到数据\n      // 判断用户上一次的签到记录的created是否与今天相同\n      // 如果相同代表用户是在连续签到\n      // 如果当前时间的日期与用户的上一次签到日期下班相同，说明用户已经签到\n      if (dayjs__WEBPACK_IMPORTED_MODULE_3___default()(record.created).format('YYYY-MM-DD') === dayjs__WEBPACK_IMPORTED_MODULE_3___default()().format('YYYY-MM-DD')) {\n        ctx.body = {\n          code: 500,\n          favs: user.favs,\n          count: user.count,\n          lastSign: record.created,\n          msg: '用户已经签到'\n        }; // 一定要有return\n\n        return;\n      } else {\n        let count = user.count;\n        let fav = 0; // 有上一次的签到记录，并且不与今天相同，进行连续签到的判断\n        //判断签到时间\n        // 第n+1天签到的时候，需要与第n天的created比较\n\n        if (dayjs__WEBPACK_IMPORTED_MODULE_3___default()(record.created).format('YYYY-MM-DD') === dayjs__WEBPACK_IMPORTED_MODULE_3___default()().subtract(1, 'days').format('YYYY-MM-DD')) {\n          // 连续签到的积分获得逻辑\n          // 进入这个逻辑，代表用户当天已经进行了连续签到，所以count应该先加1，再去计算积分\n          count += 1;\n\n          if (count < 5) {\n            fav = 5;\n          } else if (count >= 5 && count < 15) {\n            fav = 10;\n          } else if (count >= 15 && count < 30) {\n            fav = 15;\n          } else if (count >= 30 && count < 100) {\n            fav = 20;\n          } else if (count >= 100 && count < 365) {\n            fav = 30;\n          } else if (count >= 365) {\n            fav = 50;\n          }\n\n          await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOneByID({\n            _id: obj._id\n          }, {\n            $inc: {\n              favs: fav,\n              count: 1\n            }\n          });\n          result = {\n            favs: user.favs + fav,\n            count: user.count + 1\n          };\n        } else {\n          // 用户中断签到\n          fav = 5;\n          await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOneByID({\n            _id: obj._id\n          }, {\n            $set: {\n              favs: fav,\n              count: 1\n            }\n          });\n          result = {\n            favs: user.favs + fav,\n            count: 1\n          };\n        } // 更新签到记录表\n\n\n        newRecord = new _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n          uid: obj._id,\n          favs: fav\n        });\n        await newRecord.save();\n      }\n    } else {\n      // 无签到数据 === > 第一次签到\n      // 保存用户的签到数据\n      await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOneByID({\n        _id: obj._id\n      }, {\n        // $set:设置\n        $set: {\n          count: 1\n        },\n        // $inc是increase的缩写，原有数据+5的意思\n        $inc: {\n          favs: 5\n        }\n      }); // 保存用户的签到记录\n\n      newRecord = new _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n        uid: obj._id,\n        fav: 5\n      });\n      await newRecord.save();\n      result = {\n        favs: user.favs + 5,\n        count: 1\n      };\n    }\n\n    ctx.body = {\n      code: 200,\n      msg: '请求成功',\n      ...result,\n      lastSign: newRecord.created\n    };\n  } // 更新用户基本信息接口\n\n\n  async updateUserInfo(ctx) {\n    console.log('xtttttttttttttttttttttttttttttttttt');\n    console.log(global.ws);\n    global.ws.send(JSON.stringify({\n      event: 'message',\n      message: '您有一条新的评论'\n    }));\n    const {\n      body\n    } = ctx.request;\n    const obj = await Object(_common_Utils_js__WEBPACK_IMPORTED_MODULE_1__[\"getJWTPayload\"])(ctx.header.authorization); // 判断用户是否修改了邮箱\n\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n      _id: obj._id\n    });\n    let msg = '';\n\n    if (body.username && body.username !== user.username) {\n      // 用户修改了邮箱\n      // 需要发送邮件 \n      // 判断用户的新邮箱是否已经有人注册\n      const tmpUser = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n        username: body.username\n      });\n\n      if (tmpUser && tmpUser.password) {\n        ctx.nody = {\n          code: '501',\n          msg: '邮箱已经注册'\n        };\n        return;\n      }\n\n      const key = uuid_dist_v4__WEBPACK_IMPORTED_MODULE_5___default()();\n      Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_7__[\"setValue\"])(key, jsonwebtoken__WEBPACK_IMPORTED_MODULE_6___default.a.sign({\n        _id: obj._id\n      }, _config__WEBPACK_IMPORTED_MODULE_8__[\"default\"].JWT_SECRET, {\n        expiresIn: '30m'\n      }));\n      const result = await Object(_config_MailConfig__WEBPACK_IMPORTED_MODULE_4__[\"default\"])({\n        // 根据type去判断邮件的具体内容\n        type: 'email',\n        key: key,\n        data: {\n          key: key,\n          username: body.username\n        },\n        // 邀请码，可选\n        code: '',\n        // 过期时间，可选\n        expire: dayjs__WEBPACK_IMPORTED_MODULE_3___default()().add(30, 'minutes').format('YYYY-MM-DD HH:mm:ss'),\n        // 发送邮箱，必选\n        email: user.username,\n        // 用户的昵称，可选\n        user: 'testUsername'\n      });\n      msg = '更新基本资料成功，账号修改需要邮件确认，请查收邮件！';\n    } // 过滤掉下面的几处敏感信息，不允许用户随意修改\n\n\n    const arr = ['username', 'mobile', 'password'];\n    arr.map(item => {\n      delete body[item];\n    });\n    const result = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n      _id: obj._id\n    }, body);\n\n    if (result.n === 1 && result.ok === 1) {\n      ctx.body = {\n        code: 200,\n        msg: msg === '' ? '更新成功' : msg\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '更新失败'\n      };\n    }\n  } // 更新用户名\n\n\n  async updateUsername(ctx) {\n    const body = ctx.query;\n\n    if (body.key) {\n      const token = await Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_7__[\"getValue\"])(body.key);\n      const obj = Object(_common_Utils_js__WEBPACK_IMPORTED_MODULE_1__[\"getJWTPayload\"])('Bearer ' + token);\n      await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n        _id: obj._id\n      }, {\n        username: body.username\n      });\n      ctx.body = {\n        code: 200,\n        msg: '更新用户名成功'\n      };\n    }\n  } // 获取历史消息\n  // 记录评论之后，给作者发送未读消息\n\n\n  async getMsg(ctx) {\n    const params = ctx.query;\n    const page = params.page ? params.page : 0;\n    const limit = params.limit ? parseInt(params.limit) : 0; // 方法一：嵌套查询=> aggregate\n\n    const obj = await Object(_common_Utils_js__WEBPACK_IMPORTED_MODULE_1__[\"getJWTPayload\"])(ctx.header.authorization); // Comments是封装的评论model\n    // const result = await Comments.getMsgList(obj._id, page, limit)\n    // 方法二：通过冗余换时间\n\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new UserController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL1VzZXJDb250cm9sbGVyLmpzP2I5YWYiXSwibmFtZXMiOlsiVXNlckNvbnRyb2xsZXIiLCJ1c2VyU2lnbiIsImN0eCIsIm9iaiIsImdldEpXVFBheWxvYWQiLCJoZWFkZXIiLCJhdXRob3JpemF0aW9uIiwicmVjb3JkIiwiU2lnblJlY29yZCIsImZpbmRCeVVpZCIsIl9pZCIsInVzZXIiLCJVc2VyIiwiZmluZEJ5SUQiLCJuZXdSZWNvcmQiLCJyZXN1bHQiLCJtb21lbnQiLCJjcmVhdGVkIiwiZm9ybWF0IiwiYm9keSIsImNvZGUiLCJmYXZzIiwiY291bnQiLCJsYXN0U2lnbiIsIm1zZyIsImZhdiIsInN1YnRyYWN0IiwidXBkYXRlT25lQnlJRCIsIiRpbmMiLCIkc2V0IiwidWlkIiwic2F2ZSIsInVwZGF0ZVVzZXJJbmZvIiwiY29uc29sZSIsImxvZyIsImdsb2JhbCIsIndzIiwic2VuZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJldmVudCIsIm1lc3NhZ2UiLCJyZXF1ZXN0IiwiZmluZE9uZSIsInVzZXJuYW1lIiwidG1wVXNlciIsInBhc3N3b3JkIiwibm9keSIsImtleSIsInV1aWQiLCJzZXRWYWx1ZSIsImp3dCIsInNpZ24iLCJjb25maWciLCJKV1RfU0VDUkVUIiwiZXhwaXJlc0luIiwidHlwZSIsImRhdGEiLCJleHBpcmUiLCJhZGQiLCJlbWFpbCIsImFyciIsIm1hcCIsIml0ZW0iLCJ1cGRhdGVPbmUiLCJuIiwib2siLCJ1cGRhdGVVc2VybmFtZSIsInF1ZXJ5IiwidG9rZW4iLCJnZXRWYWx1ZSIsImdldE1zZyIsInBhcmFtcyIsInBhZ2UiLCJsaW1pdCIsInBhcnNlSW50Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTs7QUFFQSxNQUFN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LENBQUNDLElBQXJCLEdBQTRCLENBQXpDO0FBQ0EsVUFBTUMsS0FBSyxHQUFHRixNQUFNLENBQUNFLEtBQVAsR0FBZUMsUUFBUSxDQUFDSCxNQUFNLENBQUNFLEtBQVIsQ0FBdkIsR0FBd0MsQ0FBdEQsQ0FIYyxDQUlkOztBQUNBLFVBQU12RSxHQUFHLEdBQUcsTUFBTUMsc0VBQWEsQ0FBQ0YsR0FBRyxDQUFDRyxNQUFKLENBQVdDLGFBQVosQ0FBL0IsQ0FMYyxDQU1kO0FBQ0E7QUFFQTs7QUFFQUosT0FBRyxDQUFDaUIsSUFBSixHQUFXO0FBQ1BDLFVBQUksRUFBRSxHQURDO0FBRVBxQyxVQUFJLEVBQUUxQztBQUZDLEtBQVg7QUFJSDs7QUE3T2dCOztBQWdQTixtRUFBSWYsY0FBSixFQUFmIiwiZmlsZSI6Ii4vc3JjL2FwaS9Vc2VyQ29udHJvbGxlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBTaWduUmVjb3JkIGZyb20gJy4uL21vZGVsL1NpZ25SZWNvcmQnXHJcbmltcG9ydCB7XHJcbiAgICBnZXRKV1RQYXlsb2FkXHJcbn0gZnJvbSAnLi4vY29tbW9uL1V0aWxzLmpzJ1xyXG5pbXBvcnQgVXNlciBmcm9tICcuLi9tb2RlbC9Vc2VyJ1xyXG5pbXBvcnQgbW9tZW50IGZyb20gJ2RheWpzJ1xyXG5pbXBvcnQgc2VuZCBmcm9tICdAL2NvbmZpZy9NYWlsQ29uZmlnJ1xyXG5pbXBvcnQgdXVpZCBmcm9tICd1dWlkL2Rpc3QvdjQnXHJcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJ1xyXG5pbXBvcnQge1xyXG4gICAgc2V0VmFsdWUsXHJcbiAgICBnZXRWYWx1ZVxyXG59IGZyb20gJ0AvY29uZmlnL1JlZGlzQ29uZmlnJ1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJ0AvY29uZmlnJ1xyXG5cclxuY2xhc3MgVXNlckNvbnRyb2xsZXIge1xyXG4gICAgLy8g55So5oi3562+5Yiw5o6l5Y+jXHJcbiAgICBhc3luYyB1c2VyU2lnbihjdHgpIHtcclxuICAgICAgICAvLyDlj5bnlKjmiLfnmoRJRFxyXG4gICAgICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXVFBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxyXG4gICAgICAgIC8vIOafpeeci+eUqOaIt+S4iuS4gOasoeeahOetvuWIsOiusOW9lVxyXG4gICAgICAgIGNvbnN0IHJlY29yZCA9IGF3YWl0IFNpZ25SZWNvcmQuZmluZEJ5VWlkKG9iai5faWQpXHJcbiAgICAgICAgLy8g5p+l6K+i5Ye655So5oi355qE5Z+65pys5L+h5oGvXHJcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SUQob2JqLl9pZClcclxuICAgICAgICBsZXQgbmV3UmVjb3JkID0ge31cclxuICAgICAgICBsZXQgcmVzdWx0ID0gJydcclxuICAgICAgICAvLyDliKTmlq3nrb7liLDpgLvovpFcclxuICAgICAgICBpZiAocmVjb3JkICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIC8vIOacieWOhuWPsueahOetvuWIsOaVsOaNrlxyXG4gICAgICAgICAgICAvLyDliKTmlq3nlKjmiLfkuIrkuIDmrKHnmoTnrb7liLDorrDlvZXnmoRjcmVhdGVk5piv5ZCm5LiO5LuK5aSp55u45ZCMXHJcbiAgICAgICAgICAgIC8vIOWmguaenOebuOWQjOS7o+ihqOeUqOaIt+aYr+WcqOi/nue7reetvuWIsFxyXG4gICAgICAgICAgICAvLyDlpoLmnpzlvZPliY3ml7bpl7TnmoTml6XmnJ/kuI7nlKjmiLfnmoTkuIrkuIDmrKHnrb7liLDml6XmnJ/kuIvnj63nm7jlkIzvvIzor7TmmI7nlKjmiLflt7Lnu4/nrb7liLBcclxuICAgICAgICAgICAgaWYgKG1vbWVudChyZWNvcmQuY3JlYXRlZCkuZm9ybWF0KCdZWVlZLU1NLUREJykgPT09IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCcpKSB7XHJcbiAgICAgICAgICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgZmF2czogdXNlci5mYXZzLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50OiB1c2VyLmNvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RTaWduOiByZWNvcmQuY3JlYXRlZCxcclxuICAgICAgICAgICAgICAgICAgICBtc2c6ICfnlKjmiLflt7Lnu4/nrb7liLAnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyDkuIDlrpropoHmnIlyZXR1cm5cclxuICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gdXNlci5jb3VudFxyXG4gICAgICAgICAgICAgICAgbGV0IGZhdiA9IDBcclxuICAgICAgICAgICAgICAgIC8vIOacieS4iuS4gOasoeeahOetvuWIsOiusOW9le+8jOW5tuS4lOS4jeS4juS7iuWkqeebuOWQjO+8jOi/m+ihjOi/nue7reetvuWIsOeahOWIpOaWrVxyXG4gICAgICAgICAgICAgICAgLy/liKTmlq3nrb7liLDml7bpl7RcclxuICAgICAgICAgICAgICAgIC8vIOesrG4rMeWkqeetvuWIsOeahOaXtuWAme+8jOmcgOimgeS4juesrG7lpKnnmoRjcmVhdGVk5q+U6L6DXHJcbiAgICAgICAgICAgICAgICBpZiAobW9tZW50KHJlY29yZC5jcmVhdGVkKS5mb3JtYXQoJ1lZWVktTU0tREQnKSA9PT0gbW9tZW50KCkuc3VidHJhY3QoMSwgJ2RheXMnKS5mb3JtYXQoJ1lZWVktTU0tREQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOi/nue7reetvuWIsOeahOenr+WIhuiOt+W+l+mAu+i+kVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIOi/m+WFpei/meS4qumAu+i+ke+8jOS7o+ihqOeUqOaIt+W9k+WkqeW3sue7j+i/m+ihjOS6hui/nue7reetvuWIsO+8jOaJgOS7pWNvdW505bqU6K+l5YWI5YqgMe+8jOWGjeWOu+iuoeeul+enr+WIhlxyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ICs9IDFcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY291bnQgPCA1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhdiA9IDVcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvdW50ID49IDUgJiYgY291bnQgPCAxNSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmYXYgPSAxMFxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY291bnQgPj0gMTUgJiYgY291bnQgPCAzMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmYXYgPSAxNVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY291bnQgPj0gMzAgJiYgY291bnQgPCAxMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmF2ID0gMjBcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvdW50ID49IDEwMCAmJiBjb3VudCA8IDM2NSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmYXYgPSAzMFxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY291bnQgPj0gMzY1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhdiA9IDUwXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IFVzZXIudXBkYXRlT25lQnlJRCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZDogb2JqLl9pZFxyXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGluYzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmF2czogZmF2LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmYXZzOiB1c2VyLmZhdnMgKyBmYXYsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiB1c2VyLmNvdW50ICsgMVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g55So5oi35Lit5pat562+5YiwXHJcbiAgICAgICAgICAgICAgICAgICAgZmF2ID0gNVxyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IFVzZXIudXBkYXRlT25lQnlJRCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pZDogb2JqLl9pZFxyXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNldDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmF2czogZmF2LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmYXZzOiB1c2VyLmZhdnMgKyBmYXYsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50OiAxXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8g5pu05paw562+5Yiw6K6w5b2V6KGoXHJcbiAgICAgICAgICAgICAgICBuZXdSZWNvcmQgPSBuZXcgU2lnblJlY29yZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdWlkOiBvYmouX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIGZhdnM6IGZhdixcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBuZXdSZWNvcmQuc2F2ZSgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyDml6Dnrb7liLDmlbDmja4gPT09ID4g56ys5LiA5qyh562+5YiwXHJcbiAgICAgICAgICAgIC8vIOS/neWtmOeUqOaIt+eahOetvuWIsOaVsOaNrlxyXG4gICAgICAgICAgICBhd2FpdCBVc2VyLnVwZGF0ZU9uZUJ5SUQoe1xyXG4gICAgICAgICAgICAgICAgX2lkOiBvYmouX2lkXHJcbiAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgIC8vICRzZXQ66K6+572uXHJcbiAgICAgICAgICAgICAgICAkc2V0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY291bnQ6IDFcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAvLyAkaW5j5pivaW5jcmVhc2XnmoTnvKnlhpnvvIzljp/mnInmlbDmja4rNeeahOaEj+aAnVxyXG4gICAgICAgICAgICAgICAgJGluYzoge1xyXG4gICAgICAgICAgICAgICAgICAgIGZhdnM6IDVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy8g5L+d5a2Y55So5oi355qE562+5Yiw6K6w5b2VXHJcbiAgICAgICAgICAgIG5ld1JlY29yZCA9IG5ldyBTaWduUmVjb3JkKHtcclxuICAgICAgICAgICAgICAgIHVpZDogb2JqLl9pZCxcclxuICAgICAgICAgICAgICAgIGZhdjogNVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBhd2FpdCBuZXdSZWNvcmQuc2F2ZSgpXHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHtcclxuICAgICAgICAgICAgICAgIGZhdnM6IHVzZXIuZmF2cyArIDUsXHJcbiAgICAgICAgICAgICAgICBjb3VudDogMVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgICAgICBtc2c6ICfor7fmsYLmiJDlip8nLFxyXG4gICAgICAgICAgICAuLi5yZXN1bHQsXHJcbiAgICAgICAgICAgIGxhc3RTaWduOiBuZXdSZWNvcmQuY3JlYXRlZFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDmm7TmlrDnlKjmiLfln7rmnKzkv6Hmga/mjqXlj6NcclxuICAgIGFzeW5jIHVwZGF0ZVVzZXJJbmZvKGN0eCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCd4dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dCcpXHJcbiAgICAgICAgY29uc29sZS5sb2coZ2xvYmFsLndzKVxyXG4gICAgICAgIGdsb2JhbC53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgZXZlbnQ6J21lc3NhZ2UnLFxyXG4gICAgICAgICAgICBtZXNzYWdlOifmgqjmnInkuIDmnaHmlrDnmoTor4TorronXHJcbiAgICAgICAgfSkpXHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICBib2R5XHJcbiAgICAgICAgfSA9IGN0eC5yZXF1ZXN0XHJcbiAgICAgICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUUGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXHJcbiAgICAgICAgLy8g5Yik5pat55So5oi35piv5ZCm5L+u5pS55LqG6YKu566xXHJcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7XHJcbiAgICAgICAgICAgIF9pZDogb2JqLl9pZFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgbGV0IG1zZyA9ICcnXHJcbiAgICAgICAgaWYgKGJvZHkudXNlcm5hbWUgJiYgYm9keS51c2VybmFtZSAhPT0gdXNlci51c2VybmFtZSkge1xyXG4gICAgICAgICAgICAvLyDnlKjmiLfkv67mlLnkuobpgq7nrrFcclxuICAgICAgICAgICAgLy8g6ZyA6KaB5Y+R6YCB6YKu5Lu2IFxyXG4gICAgICAgICAgICAvLyDliKTmlq3nlKjmiLfnmoTmlrDpgq7nrrHmmK/lkKblt7Lnu4/mnInkurrms6jlhoxcclxuICAgICAgICAgICAgY29uc3QgdG1wVXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7XHJcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogYm9keS51c2VybmFtZVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBpZiAodG1wVXNlciAmJiB0bXBVc2VyLnBhc3N3b3JkKSB7XHJcbiAgICAgICAgICAgICAgICBjdHgubm9keSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjb2RlOiAnNTAxJyxcclxuICAgICAgICAgICAgICAgICAgICBtc2c6ICfpgq7nrrHlt7Lnu4/ms6jlhownXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBrZXkgPSB1dWlkKClcclxuICAgICAgICAgICAgc2V0VmFsdWUoa2V5LCBqd3Quc2lnbih7XHJcbiAgICAgICAgICAgICAgICBfaWQ6IG9iai5faWRcclxuICAgICAgICAgICAgfSwgY29uZmlnLkpXVF9TRUNSRVQsIHtcclxuICAgICAgICAgICAgICAgIGV4cGlyZXNJbjogJzMwbSdcclxuICAgICAgICAgICAgfSkpXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlbmQoe1xyXG4gICAgICAgICAgICAgICAgLy8g5qC55o2udHlwZeWOu+WIpOaWremCruS7tueahOWFt+S9k+WGheWuuVxyXG4gICAgICAgICAgICAgICAgdHlwZTogJ2VtYWlsJyxcclxuICAgICAgICAgICAgICAgIGtleToga2V5LFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleToga2V5LFxyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBib2R5LnVzZXJuYW1lXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgLy8g6YKA6K+356CB77yM5Y+v6YCJXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAnJyxcclxuICAgICAgICAgICAgICAgIC8vIOi/h+acn+aXtumXtO+8jOWPr+mAiVxyXG4gICAgICAgICAgICAgICAgZXhwaXJlOiBtb21lbnQoKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGQoMzAsICdtaW51dGVzJylcclxuICAgICAgICAgICAgICAgICAgICAuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJyksXHJcbiAgICAgICAgICAgICAgICAvLyDlj5HpgIHpgq7nrrHvvIzlv4XpgIlcclxuICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLnVzZXJuYW1lLFxyXG4gICAgICAgICAgICAgICAgLy8g55So5oi355qE5pi156ew77yM5Y+v6YCJXHJcbiAgICAgICAgICAgICAgICB1c2VyOiAndGVzdFVzZXJuYW1lJyxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgbXNnID0gJ+abtOaWsOWfuuacrOi1hOaWmeaIkOWKn++8jOi0puWPt+S/ruaUuemcgOimgemCruS7tuehruiupO+8jOivt+afpeaUtumCruS7tu+8gSdcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g6L+H5ruk5o6J5LiL6Z2i55qE5Yeg5aSE5pWP5oSf5L+h5oGv77yM5LiN5YWB6K6455So5oi36ZqP5oSP5L+u5pS5XHJcbiAgICAgICAgY29uc3QgYXJyID0gWyd1c2VybmFtZScsICdtb2JpbGUnLCAncGFzc3dvcmQnXVxyXG4gICAgICAgIGFyci5tYXAoKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgZGVsZXRlIGJvZHlbaXRlbV1cclxuICAgICAgICB9KVxyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFVzZXIudXBkYXRlT25lKHtcclxuICAgICAgICAgICAgX2lkOiBvYmouX2lkXHJcbiAgICAgICAgfSwgYm9keSlcclxuICAgICAgICBpZiAocmVzdWx0Lm4gPT09IDEgJiYgcmVzdWx0Lm9rID09PSAxKSB7XHJcbiAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgbXNnOiBtc2cgPT09ICcnID8gJ+abtOaWsOaIkOWKnycgOiBtc2dcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgICAgICAgICAgbXNnOiAn5pu05paw5aSx6LSlJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8g5pu05paw55So5oi35ZCNXHJcbiAgICBhc3luYyB1cGRhdGVVc2VybmFtZShjdHgpIHtcclxuICAgICAgICBjb25zdCBib2R5ID0gY3R4LnF1ZXJ5XHJcbiAgICAgICAgaWYgKGJvZHkua2V5KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gYXdhaXQgZ2V0VmFsdWUoYm9keS5rZXkpXHJcbiAgICAgICAgICAgIGNvbnN0IG9iaiA9IGdldEpXVFBheWxvYWQoJ0JlYXJlciAnICsgdG9rZW4pXHJcbiAgICAgICAgICAgIGF3YWl0IFVzZXIudXBkYXRlT25lKHtcclxuICAgICAgICAgICAgICAgIF9pZDogb2JqLl9pZFxyXG4gICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogYm9keS51c2VybmFtZVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgICAgICAgIG1zZzogJ+abtOaWsOeUqOaIt+WQjeaIkOWKnydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8g6I635Y+W5Y6G5Y+y5raI5oGvXHJcbiAgICAvLyDorrDlvZXor4TorrrkuYvlkI7vvIznu5nkvZzogIXlj5HpgIHmnKror7vmtojmga9cclxuICAgIGFzeW5jIGdldE1zZyhjdHgpIHtcclxuICAgICAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcclxuICAgICAgICBjb25zdCBwYWdlID0gcGFyYW1zLnBhZ2UgPyBwYXJhbXMucGFnZSA6IDBcclxuICAgICAgICBjb25zdCBsaW1pdCA9IHBhcmFtcy5saW1pdCA/IHBhcnNlSW50KHBhcmFtcy5saW1pdCkgOiAwXHJcbiAgICAgICAgLy8g5pa55rOV5LiA77ya5bWM5aWX5p+l6K+iPT4gYWdncmVnYXRlXHJcbiAgICAgICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUUGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXHJcbiAgICAgICAgLy8gQ29tbWVudHPmmK/lsIHoo4XnmoTor4Torrptb2RlbFxyXG4gICAgICAgIC8vIGNvbnN0IHJlc3VsdCA9IGF3YWl0IENvbW1lbnRzLmdldE1zZ0xpc3Qob2JqLl9pZCwgcGFnZSwgbGltaXQpXHJcblxyXG4gICAgICAgIC8vIOaWueazleS6jO+8mumAmui/h+WGl+S9meaNouaXtumXtFxyXG5cclxuICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgICAgICBkYXRhOiByZXN1bHRcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG5ldyBVc2VyQ29udHJvbGxlcigpIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/UserController.js\n");

/***/ }),

/***/ "./src/common/ErrorHandle.js":
/*!***********************************!*\
  !*** ./src/common/ErrorHandle.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ((ctx, next) => {\n  return next().catch(err => {\n    console.log(err);\n\n    if (401 == err.status) {\n      ctx.status = 401;\n      ctx.body = {\n        code: 401,\n        msg: 'Protected resource, use Authorization header to get access\\n'\n      };\n    } else {\n      ctx.status = err.status || 500;\n      ctx.body = Object.assign({\n        code: 500,\n        msg: err.message\n      },  true ? {\n        stack: err.stack\n      } : undefined); // console.log(err.stack);\n    }\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL0Vycm9ySGFuZGxlLmpzPzQxZWIiXSwibmFtZXMiOlsiY3R4IiwibmV4dCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsInN0YXR1cyIsImJvZHkiLCJjb2RlIiwibXNnIiwiT2JqZWN0IiwiYXNzaWduIiwibWVzc2FnZSIsInByb2Nlc3MiLCJzdGFjayJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBZSxnRUFBQ0EsR0FBRCxFQUFNQyxJQUFOLEtBQWU7QUFDNUIsU0FBT0EsSUFBSSxHQUFHQyxLQUFQLENBQWNDLEdBQUQsSUFBUztBQUMzQkMsV0FBTyxDQUFDQyxHQUFSLENBQVlGLEdBQVo7O0FBQ0EsUUFBSSxPQUFPQSxHQUFHLENBQUNHLE1BQWYsRUFBdUI7QUFDckJOLFNBQUcsQ0FBQ00sTUFBSixHQUFhLEdBQWI7QUFDQU4sU0FBRyxDQUFDTyxJQUFKLEdBQVc7QUFDVEMsWUFBSSxFQUFFLEdBREc7QUFFVEMsV0FBRyxFQUFFO0FBRkksT0FBWDtBQUlELEtBTkQsTUFNTztBQUNMVCxTQUFHLENBQUNNLE1BQUosR0FBYUgsR0FBRyxDQUFDRyxNQUFKLElBQWMsR0FBM0I7QUFDQU4sU0FBRyxDQUFDTyxJQUFKLEdBQVdHLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjO0FBQ3ZCSCxZQUFJLEVBQUUsR0FEaUI7QUFFdkJDLFdBQUcsRUFBRU4sR0FBRyxDQUFDUztBQUZjLE9BQWQsRUFHUkMsS0FBQSxHQUNEO0FBQUVDLGFBQUssRUFBRVgsR0FBRyxDQUFDVztBQUFiLE9BREMsR0FDc0IsU0FKZCxDQUFYLENBRkssQ0FPTDtBQUNEO0FBQ0YsR0FqQk0sQ0FBUDtBQWtCRCxDQW5CRCIsImZpbGUiOiIuL3NyYy9jb21tb24vRXJyb3JIYW5kbGUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCAoY3R4LCBuZXh0KSA9PiB7XHJcbiAgcmV0dXJuIG5leHQoKS5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgaWYgKDQwMSA9PSBlcnIuc3RhdHVzKSB7XHJcbiAgICAgIGN0eC5zdGF0dXMgPSA0MDE7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDQwMSxcclxuICAgICAgICBtc2c6ICdQcm90ZWN0ZWQgcmVzb3VyY2UsIHVzZSBBdXRob3JpemF0aW9uIGhlYWRlciB0byBnZXQgYWNjZXNzXFxuJ1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjdHguc3RhdHVzID0gZXJyLnN0YXR1cyB8fCA1MDBcclxuICAgICAgY3R4LmJvZHkgPSBPYmplY3QuYXNzaWduKHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgbXNnOiBlcnIubWVzc2FnZSxcclxuICAgICAgfSwgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgP1xyXG4gICAgICAgIHsgc3RhY2s6IGVyci5zdGFjayB9IDoge30pXHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKGVyci5zdGFjayk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/common/ErrorHandle.js\n");

/***/ }),

/***/ "./src/common/Utils.js":
/*!*****************************!*\
  !*** ./src/common/Utils.js ***!
  \*****************************/
/*! exports provided: checkCode, getJWTPayload, dirExists */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkCode\", function() { return checkCode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getJWTPayload\", function() { return getJWTPayload; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dirExists\", function() { return dirExists; });\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/RedisConfig */ \"./src/config/RedisConfig.js\");\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config/index */ \"./src/config/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n // 解析JWT中的Payload\n\nconst getJWTPayload = token => {\n  return jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default.a.verify(token.split(' ')[1], _config_index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].JWT_SECRET);\n}; // 检查验证码是否正确以及是否过期\n\n\nconst checkCode = async (key, value) => {\n  const redisData = await Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_0__[\"getValue\"])(key);\n\n  if (redisData != null) {\n    if (redisData.toLowerCase() === value.toLowerCase()) {\n      return true;\n    } else {\n      return false;\n    }\n  } else {\n    return false;\n  }\n};\n\nconst getStats = path => {\n  return new Promise(resolve => {\n    // fs.stat(path, (err, stats) => {\n    //   if (err) {\n    //     // 如果有这个目录，就直接resolve false出去\n    //     resolve(false)\n    //     // 否则将stats resolve出去\n    //   } else {\n    //     resolve(stats)\n    //   }\n    // })\n    // 简写：\n    fs__WEBPACK_IMPORTED_MODULE_3___default.a.stat(path, (err, stats) => err ? resolve(false) : resolve(stats));\n  });\n};\n\nconst mkdir = dir => {\n  return new Promise(resolve => {\n    fs__WEBPACK_IMPORTED_MODULE_3___default.a.mkdir(dir, err => err ? resolve(false) : resolve(true));\n  });\n}; // 循环遍历，递归判断如果上级目录不存在，则产生上级目录\n\n\nconst dirExists = async dir => {\n  const isExists = await getStats(dir); // 如果该路径存在且不是文件，返回true\n\n  if (isExists && isExists.isDirectory()) {\n    return true;\n  } else if (isExists) {\n    // 路径存在，但是是文件，返回 false\n    return false;\n  } // 如果该路径不存在\n\n\n  const tempDir = path__WEBPACK_IMPORTED_MODULE_4___default.a.parse(dir).dir; // 循环遍历，递归判断如果上级目录不存在，则产生上级目录\n\n  const status = await dirExists(tempDir);\n\n  if (status) {\n    const result = await mkdir(dir);\n    console.log('result===>', result);\n    return result;\n  } else {\n    return false;\n  }\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL1V0aWxzLmpzP2I0ZGYiXSwibmFtZXMiOlsiZ2V0SldUUGF5bG9hZCIsInRva2VuIiwiand0IiwidmVyaWZ5Iiwic3BsaXQiLCJjb25maWciLCJKV1RfU0VDUkVUIiwiY2hlY2tDb2RlIiwia2V5IiwidmFsdWUiLCJyZWRpc0RhdGEiLCJnZXRWYWx1ZSIsInRvTG93ZXJDYXNlIiwiZ2V0U3RhdHMiLCJwYXRoIiwiUHJvbWlzZSIsInJlc29sdmUiLCJmcyIsInN0YXQiLCJlcnIiLCJzdGF0cyIsIm1rZGlyIiwiZGlyIiwiZGlyRXhpc3RzIiwiaXNFeGlzdHMiLCJpc0RpcmVjdG9yeSIsInRlbXBEaXIiLCJwYXJzZSIsInN0YXR1cyIsInJlc3VsdCIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0NBR0E7O0FBQ0EsTUFBTUEsYUFBYSxHQUFHQyxLQUFLLElBQUk7QUFDN0IsU0FBT0MsbURBQUcsQ0FBQ0MsTUFBSixDQUFXRixLQUFLLENBQUNHLEtBQU4sQ0FBWSxHQUFaLEVBQWlCLENBQWpCLENBQVgsRUFBZ0NDLHFEQUFNLENBQUNDLFVBQXZDLENBQVA7QUFDRCxDQUZELEMsQ0FJQTs7O0FBQ0EsTUFBTUMsU0FBUyxHQUFHLE9BQU9DLEdBQVAsRUFBWUMsS0FBWixLQUFzQjtBQUN0QyxRQUFNQyxTQUFTLEdBQUcsTUFBTUMsb0VBQVEsQ0FBQ0gsR0FBRCxDQUFoQzs7QUFDQSxNQUFJRSxTQUFTLElBQUksSUFBakIsRUFBdUI7QUFDckIsUUFBSUEsU0FBUyxDQUFDRSxXQUFWLE9BQTRCSCxLQUFLLENBQUNHLFdBQU4sRUFBaEMsRUFBcUQ7QUFDbkQsYUFBTyxJQUFQO0FBQ0QsS0FGRCxNQUVPO0FBQ0wsYUFBTyxLQUFQO0FBQ0Q7QUFDRixHQU5ELE1BTU87QUFDTCxXQUFPLEtBQVA7QUFDRDtBQUNGLENBWEQ7O0FBYUEsTUFBTUMsUUFBUSxHQUFJQyxJQUFELElBQVU7QUFDekIsU0FBTyxJQUFJQyxPQUFKLENBQWFDLE9BQUQsSUFBYTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBQyw2Q0FBRSxDQUFDQyxJQUFILENBQVFKLElBQVIsRUFBYyxDQUFDSyxHQUFELEVBQU1DLEtBQU4sS0FBZ0JELEdBQUcsR0FBR0gsT0FBTyxDQUFDLEtBQUQsQ0FBVixHQUFvQkEsT0FBTyxDQUFDSSxLQUFELENBQTVEO0FBQ0QsR0FaTSxDQUFQO0FBYUQsQ0FkRDs7QUFnQkEsTUFBTUMsS0FBSyxHQUFJQyxHQUFELElBQVM7QUFDckIsU0FBTyxJQUFJUCxPQUFKLENBQWFDLE9BQUQsSUFBYTtBQUM5QkMsNkNBQUUsQ0FBQ0ksS0FBSCxDQUFTQyxHQUFULEVBQWNILEdBQUcsSUFBSUEsR0FBRyxHQUFHSCxPQUFPLENBQUMsS0FBRCxDQUFWLEdBQW9CQSxPQUFPLENBQUMsSUFBRCxDQUFuRDtBQUNELEdBRk0sQ0FBUDtBQUdELENBSkQsQyxDQU1BOzs7QUFDQSxNQUFNTyxTQUFTLEdBQUcsTUFBT0QsR0FBUCxJQUFlO0FBQy9CLFFBQU1FLFFBQVEsR0FBRyxNQUFNWCxRQUFRLENBQUNTLEdBQUQsQ0FBL0IsQ0FEK0IsQ0FFL0I7O0FBQ0EsTUFBSUUsUUFBUSxJQUFJQSxRQUFRLENBQUNDLFdBQVQsRUFBaEIsRUFBd0M7QUFDdEMsV0FBTyxJQUFQO0FBQ0QsR0FGRCxNQUVPLElBQUlELFFBQUosRUFBYztBQUNuQjtBQUNBLFdBQU8sS0FBUDtBQUNELEdBUjhCLENBUy9COzs7QUFDQSxRQUFNRSxPQUFPLEdBQUdaLDJDQUFJLENBQUNhLEtBQUwsQ0FBV0wsR0FBWCxFQUFnQkEsR0FBaEMsQ0FWK0IsQ0FXL0I7O0FBQ0EsUUFBTU0sTUFBTSxHQUFHLE1BQU1MLFNBQVMsQ0FBQ0csT0FBRCxDQUE5Qjs7QUFDQSxNQUFJRSxNQUFKLEVBQVk7QUFDVixVQUFNQyxNQUFNLEdBQUcsTUFBTVIsS0FBSyxDQUFDQyxHQUFELENBQTFCO0FBQ0FRLFdBQU8sQ0FBQ0MsR0FBUixDQUFZLFlBQVosRUFBMEJGLE1BQTFCO0FBQ0EsV0FBT0EsTUFBUDtBQUNELEdBSkQsTUFJTztBQUNMLFdBQU8sS0FBUDtBQUNEO0FBQ0YsQ0FwQkQiLCJmaWxlIjoiLi9zcmMvY29tbW9uL1V0aWxzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBnZXRWYWx1ZVxyXG59IGZyb20gJ0AvY29uZmlnL1JlZGlzQ29uZmlnJztcclxuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi9jb25maWcvaW5kZXgnXHJcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJ1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnXHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXHJcblxyXG4vLyDop6PmnpBKV1TkuK3nmoRQYXlsb2FkXHJcbmNvbnN0IGdldEpXVFBheWxvYWQgPSB0b2tlbiA9PiB7XHJcbiAgcmV0dXJuIGp3dC52ZXJpZnkodG9rZW4uc3BsaXQoJyAnKVsxXSwgY29uZmlnLkpXVF9TRUNSRVQpXHJcbn1cclxuXHJcbi8vIOajgOafpemqjOivgeeggeaYr+WQpuato+ehruS7peWPiuaYr+WQpui/h+acn1xyXG5jb25zdCBjaGVja0NvZGUgPSBhc3luYyAoa2V5LCB2YWx1ZSkgPT4ge1xyXG4gIGNvbnN0IHJlZGlzRGF0YSA9IGF3YWl0IGdldFZhbHVlKGtleSlcclxuICBpZiAocmVkaXNEYXRhICE9IG51bGwpIHtcclxuICAgIGlmIChyZWRpc0RhdGEudG9Mb3dlckNhc2UoKSA9PT0gdmFsdWUudG9Mb3dlckNhc2UoKSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBmYWxzZVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgZ2V0U3RhdHMgPSAocGF0aCkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgLy8gZnMuc3RhdChwYXRoLCAoZXJyLCBzdGF0cykgPT4ge1xyXG4gICAgLy8gICBpZiAoZXJyKSB7XHJcbiAgICAvLyAgICAgLy8g5aaC5p6c5pyJ6L+Z5Liq55uu5b2V77yM5bCx55u05o6lcmVzb2x2ZSBmYWxzZeWHuuWOu1xyXG4gICAgLy8gICAgIHJlc29sdmUoZmFsc2UpXHJcbiAgICAvLyAgICAgLy8g5ZCm5YiZ5bCGc3RhdHMgcmVzb2x2ZeWHuuWOu1xyXG4gICAgLy8gICB9IGVsc2Uge1xyXG4gICAgLy8gICAgIHJlc29sdmUoc3RhdHMpXHJcbiAgICAvLyAgIH1cclxuICAgIC8vIH0pXHJcbiAgICAvLyDnroDlhpnvvJpcclxuICAgIGZzLnN0YXQocGF0aCwgKGVyciwgc3RhdHMpID0+IGVyciA/IHJlc29sdmUoZmFsc2UpIDogcmVzb2x2ZShzdGF0cykpXHJcbiAgfSlcclxufVxyXG5cclxuY29uc3QgbWtkaXIgPSAoZGlyKSA9PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICBmcy5ta2RpcihkaXIsIGVyciA9PiBlcnIgPyByZXNvbHZlKGZhbHNlKSA6IHJlc29sdmUodHJ1ZSkpXHJcbiAgfSlcclxufVxyXG5cclxuLy8g5b6q546v6YGN5Y6G77yM6YCS5b2S5Yik5pat5aaC5p6c5LiK57qn55uu5b2V5LiN5a2Y5Zyo77yM5YiZ5Lqn55Sf5LiK57qn55uu5b2VXHJcbmNvbnN0IGRpckV4aXN0cyA9IGFzeW5jIChkaXIpID0+IHtcclxuICBjb25zdCBpc0V4aXN0cyA9IGF3YWl0IGdldFN0YXRzKGRpcilcclxuICAvLyDlpoLmnpzor6Xot6/lvoTlrZjlnKjkuJTkuI3mmK/mlofku7bvvIzov5Tlm550cnVlXHJcbiAgaWYgKGlzRXhpc3RzICYmIGlzRXhpc3RzLmlzRGlyZWN0b3J5KCkpIHtcclxuICAgIHJldHVybiB0cnVlXHJcbiAgfSBlbHNlIGlmIChpc0V4aXN0cykge1xyXG4gICAgLy8g6Lev5b6E5a2Y5Zyo77yM5L2G5piv5piv5paH5Lu277yM6L+U5ZueIGZhbHNlXHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcbiAgLy8g5aaC5p6c6K+l6Lev5b6E5LiN5a2Y5ZyoXHJcbiAgY29uc3QgdGVtcERpciA9IHBhdGgucGFyc2UoZGlyKS5kaXJcclxuICAvLyDlvqrnjq/pgY3ljobvvIzpgJLlvZLliKTmlq3lpoLmnpzkuIrnuqfnm67lvZXkuI3lrZjlnKjvvIzliJnkuqfnlJ/kuIrnuqfnm67lvZVcclxuICBjb25zdCBzdGF0dXMgPSBhd2FpdCBkaXJFeGlzdHModGVtcERpcilcclxuICBpZiAoc3RhdHVzKSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBta2RpcihkaXIpXHJcbiAgICBjb25zb2xlLmxvZygncmVzdWx0PT09PicsIHJlc3VsdClcclxuICAgIHJldHVybiByZXN1bHRcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGZhbHNlXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQge1xyXG4gIGNoZWNrQ29kZSxcclxuICBnZXRKV1RQYXlsb2FkLFxyXG4gIGRpckV4aXN0c1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/common/Utils.js\n");

/***/ }),

/***/ "./src/config/DBHelpler.js":
/*!*********************************!*\
  !*** ./src/config/DBHelpler.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index */ \"./src/config/index.js\");\n\n // 创建连接\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connect(_index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DB_URL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}); // 连接成功\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connection.on('connected', () => {\n  console.log('Mongoose connection open to ' + _index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DB_URL);\n}); // 连接异常\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connection.on('error', err => {\n  console.log('Mongoose connection error: ' + err);\n}); // 断开连接\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connection.on('disconnected', () => {\n  console.log('Mongoose connection disconnected');\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (mongoose__WEBPACK_IMPORTED_MODULE_0___default.a);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL0RCSGVscGxlci5qcz9lNjg0Il0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiY29ubmVjdCIsImNvbmZpZyIsIkRCX1VSTCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsImNvbm5lY3Rpb24iLCJvbiIsImNvbnNvbGUiLCJsb2ciLCJlcnIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Q0FHQTs7QUFDQUEsK0NBQVEsQ0FBQ0MsT0FBVCxDQUFpQkMsOENBQU0sQ0FBQ0MsTUFBeEIsRUFBZ0M7QUFDOUJDLGlCQUFlLEVBQUUsSUFEYTtBQUU5QkMsb0JBQWtCLEVBQUU7QUFGVSxDQUFoQyxFLENBS0E7O0FBQ0FMLCtDQUFRLENBQUNNLFVBQVQsQ0FBb0JDLEVBQXBCLENBQXVCLFdBQXZCLEVBQW9DLE1BQU07QUFDeENDLFNBQU8sQ0FBQ0MsR0FBUixDQUFZLGlDQUFpQ1AsOENBQU0sQ0FBQ0MsTUFBcEQ7QUFDRCxDQUZELEUsQ0FJQTs7QUFDQUgsK0NBQVEsQ0FBQ00sVUFBVCxDQUFvQkMsRUFBcEIsQ0FBdUIsT0FBdkIsRUFBaUNHLEdBQUQsSUFBUztBQUN2Q0YsU0FBTyxDQUFDQyxHQUFSLENBQVksZ0NBQWdDQyxHQUE1QztBQUNELENBRkQsRSxDQUlBOztBQUNBViwrQ0FBUSxDQUFDTSxVQUFULENBQW9CQyxFQUFwQixDQUF1QixjQUF2QixFQUF1QyxNQUFNO0FBQzNDQyxTQUFPLENBQUNDLEdBQVIsQ0FBWSxrQ0FBWjtBQUNELENBRkQ7QUFJZVQsOEdBQWYiLCJmaWxlIjoiLi9zcmMvY29uZmlnL0RCSGVscGxlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcclxuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2luZGV4J1xyXG5cclxuLy8g5Yib5bu66L+e5o6lXHJcbm1vbmdvb3NlLmNvbm5lY3QoY29uZmlnLkRCX1VSTCwge1xyXG4gIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcclxuICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWVcclxufSlcclxuXHJcbi8vIOi/nuaOpeaIkOWKn1xyXG5tb25nb29zZS5jb25uZWN0aW9uLm9uKCdjb25uZWN0ZWQnLCAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2coJ01vbmdvb3NlIGNvbm5lY3Rpb24gb3BlbiB0byAnICsgY29uZmlnLkRCX1VSTCk7XHJcbn0pXHJcblxyXG4vLyDov57mjqXlvILluLhcclxubW9uZ29vc2UuY29ubmVjdGlvbi5vbignZXJyb3InLCAoZXJyKSA9PiB7XHJcbiAgY29uc29sZS5sb2coJ01vbmdvb3NlIGNvbm5lY3Rpb24gZXJyb3I6ICcgKyBlcnIpO1xyXG59KVxyXG5cclxuLy8g5pat5byA6L+e5o6lXHJcbm1vbmdvb3NlLmNvbm5lY3Rpb24ub24oJ2Rpc2Nvbm5lY3RlZCcsICgpID0+IHtcclxuICBjb25zb2xlLmxvZygnTW9uZ29vc2UgY29ubmVjdGlvbiBkaXNjb25uZWN0ZWQnKVxyXG59KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/config/DBHelpler.js\n");

/***/ }),

/***/ "./src/config/MailConfig.js":
/*!**********************************!*\
  !*** ./src/config/MailConfig.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"nodemailer\");\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(nodemailer__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/config */ \"./src/config/index.js\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! qs */ \"qs\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\nasync function send(sendInfo) {\n  let transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0___default.a.createTransport({\n    host: 'smtp.qq.com',\n    // 这个是qq邮箱的主机地址，只要是用的qq邮箱，这个地方就是固定的，不能随意修改\n    port: 587,\n    secure: false,\n    // true for 465, false for other ports\n    auth: {\n      user: '893352008@qq.com',\n      // generated ethereal user\n      pass: 'obbzxuzvnnnjbdjh' // generated ethereal password\n\n    }\n  }); // 用户跳转链接\n\n  const baseUrl = _config__WEBPACK_IMPORTED_MODULE_1__[\"default\"].baseUrl;\n  const route = sendInfo.type === 'email' ? '/confirm' : '/reset';\n  let url = `${baseUrl}/#${route}?` + qs__WEBPACK_IMPORTED_MODULE_2___default.a.stringify(sendInfo.data);\n  console.log('hhhjjjjjjj');\n  console.log(url); // send mail with defined transport object \n\n  let info = await transporter.sendMail({\n    from: '\"认证邮件\" <893352008@qq.com>',\n    // sender address\n    to: sendInfo.email,\n    // list of receivers\n    subject: '这里填写的邮件主题',\n    text: '当html有内容的时候，text的内容不会显示',\n    html: `\n        <div style=\"border: 1px solid #dcdcdc;color: #676767;width: 600px; margin: 0 auto; padding-bottom: 50px;position: relative;\">\n        <div style=\"height: 60px; background: #393d49; line-height: 60px; color: #58a36f; font-size: 18px;padding-left: 10px;\">Imooc社区——欢迎来到官方社区</div>\n        <div style=\"padding: 25px\">\n          <div>您好，${sendInfo.user}童鞋，链接有效时间30分钟，请在${sendInfo.expire}之前重置您的密码：</div>\n          <a href=\"${url}\" style=\"padding: 10px 20px; color: #fff; background: #009e94; display: inline-block;margin: 15px 0;\">立即重置密码</a>\n          <div style=\"padding: 5px; background: #f2f2f2;\">如果该邮件不是由你本人操作，请勿进行激活！否则你的邮箱将会被他人绑定。</div>\n        </div>\n        <div style=\"background: #fafafa; color: #b4b4b4;text-align: center; line-height: 45px; height: 45px; position: absolute; left: 0; bottom: 0;width: 100%;\">系统邮件，请勿直接回复</div>\n    </div>\n    ` // html body\n\n  });\n  return 'Message sent: %s', info.messageId;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (send);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL01haWxDb25maWcuanM/MmRiMSJdLCJuYW1lcyI6WyJzZW5kIiwic2VuZEluZm8iLCJ0cmFuc3BvcnRlciIsIm5vZGVtYWlsZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJob3N0IiwicG9ydCIsInNlY3VyZSIsImF1dGgiLCJ1c2VyIiwicGFzcyIsImJhc2VVcmwiLCJjb25maWciLCJyb3V0ZSIsInR5cGUiLCJ1cmwiLCJxcyIsInN0cmluZ2lmeSIsImRhdGEiLCJjb25zb2xlIiwibG9nIiwiaW5mbyIsInNlbmRNYWlsIiwiZnJvbSIsInRvIiwiZW1haWwiLCJzdWJqZWN0IiwidGV4dCIsImh0bWwiLCJleHBpcmUiLCJtZXNzYWdlSWQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUFFQSxlQUFlQSxJQUFmLENBQW9CQyxRQUFwQixFQUE4QjtBQUM1QixNQUFJQyxXQUFXLEdBQUdDLGlEQUFVLENBQUNDLGVBQVgsQ0FBMkI7QUFDM0NDLFFBQUksRUFBRSxhQURxQztBQUN0QjtBQUNyQkMsUUFBSSxFQUFFLEdBRnFDO0FBRzNDQyxVQUFNLEVBQUUsS0FIbUM7QUFHNUI7QUFDZkMsUUFBSSxFQUFFO0FBQ0pDLFVBQUksRUFBRSxrQkFERjtBQUNzQjtBQUMxQkMsVUFBSSxFQUFFLGtCQUZGLENBRXNCOztBQUZ0QjtBQUpxQyxHQUEzQixDQUFsQixDQUQ0QixDQVc1Qjs7QUFDQSxRQUFNQyxPQUFPLEdBQUdDLCtDQUFNLENBQUNELE9BQXZCO0FBQ0EsUUFBTUUsS0FBSyxHQUFHWixRQUFRLENBQUNhLElBQVQsS0FBa0IsT0FBbEIsR0FBNEIsVUFBNUIsR0FBeUMsUUFBdkQ7QUFDQSxNQUFJQyxHQUFHLEdBQUksR0FBRUosT0FBUSxLQUFJRSxLQUFNLEdBQXJCLEdBQTBCRyx5Q0FBRSxDQUFDQyxTQUFILENBQWFoQixRQUFRLENBQUNpQixJQUF0QixDQUFwQztBQUNBQyxTQUFPLENBQUNDLEdBQVIsQ0FBWSxZQUFaO0FBQ0FELFNBQU8sQ0FBQ0MsR0FBUixDQUFZTCxHQUFaLEVBaEI0QixDQWlCNUI7O0FBQ0EsTUFBSU0sSUFBSSxHQUFHLE1BQU1uQixXQUFXLENBQUNvQixRQUFaLENBQXFCO0FBQ3BDQyxRQUFJLEVBQUUsMkJBRDhCO0FBQ0Q7QUFDbkNDLE1BQUUsRUFBRXZCLFFBQVEsQ0FBQ3dCLEtBRnVCO0FBRWhCO0FBQ3BCQyxXQUFPLEVBQUUsV0FIMkI7QUFJcENDLFFBQUksRUFBRSx5QkFKOEI7QUFLcENDLFFBQUksRUFBRztBQUNYO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjNCLFFBQVEsQ0FBQ1EsSUFBSyxtQkFDNUJSLFFBQVEsQ0FBQzRCLE1BQ1Y7QUFDTCxxQkFBcUJkLEdBQUk7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQWpCd0MsQ0FpQmpDOztBQWpCaUMsR0FBckIsQ0FBakI7QUFvQkEsU0FBTyxvQkFBb0JNLElBQUksQ0FBQ1MsU0FBaEM7QUFDRDs7QUFFYzlCLG1FQUFmIiwiZmlsZSI6Ii4vc3JjL2NvbmZpZy9NYWlsQ29uZmlnLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG5vZGVtYWlsZXIgZnJvbSAnbm9kZW1haWxlcidcclxuaW1wb3J0IGNvbmZpZyBmcm9tICdAL2NvbmZpZydcclxuaW1wb3J0IHFzIGZyb20gJ3FzJ1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gc2VuZChzZW5kSW5mbykge1xyXG4gIGxldCB0cmFuc3BvcnRlciA9IG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcclxuICAgIGhvc3Q6ICdzbXRwLnFxLmNvbScsIC8vIOi/meS4quaYr3Fx6YKu566x55qE5Li75py65Zyw5Z2A77yM5Y+q6KaB5piv55So55qEcXHpgq7nrrHvvIzov5nkuKrlnLDmlrnlsLHmmK/lm7rlrprnmoTvvIzkuI3og73pmo/mhI/kv67mlLlcclxuICAgIHBvcnQ6IDU4NyxcclxuICAgIHNlY3VyZTogZmFsc2UsIC8vIHRydWUgZm9yIDQ2NSwgZmFsc2UgZm9yIG90aGVyIHBvcnRzXHJcbiAgICBhdXRoOiB7XHJcbiAgICAgIHVzZXI6ICc4OTMzNTIwMDhAcXEuY29tJywgLy8gZ2VuZXJhdGVkIGV0aGVyZWFsIHVzZXJcclxuICAgICAgcGFzczogJ29iYnp4dXp2bm5uamJkamgnLCAvLyBnZW5lcmF0ZWQgZXRoZXJlYWwgcGFzc3dvcmRcclxuICAgIH0sXHJcbiAgfSlcclxuXHJcbiAgLy8g55So5oi36Lez6L2s6ZO+5o6lXHJcbiAgY29uc3QgYmFzZVVybCA9IGNvbmZpZy5iYXNlVXJsXHJcbiAgY29uc3Qgcm91dGUgPSBzZW5kSW5mby50eXBlID09PSAnZW1haWwnID8gJy9jb25maXJtJyA6ICcvcmVzZXQnXHJcbiAgbGV0IHVybCA9IGAke2Jhc2VVcmx9LyMke3JvdXRlfT9gICsgcXMuc3RyaW5naWZ5KHNlbmRJbmZvLmRhdGEpXHJcbiAgY29uc29sZS5sb2coJ2hoaGpqampqamonKVxyXG4gIGNvbnNvbGUubG9nKHVybClcclxuICAvLyBzZW5kIG1haWwgd2l0aCBkZWZpbmVkIHRyYW5zcG9ydCBvYmplY3QgXHJcbiAgbGV0IGluZm8gPSBhd2FpdCB0cmFuc3BvcnRlci5zZW5kTWFpbCh7XHJcbiAgICBmcm9tOiAnXCLorqTor4Hpgq7ku7ZcIiA8ODkzMzUyMDA4QHFxLmNvbT4nLCAvLyBzZW5kZXIgYWRkcmVzc1xyXG4gICAgdG86IHNlbmRJbmZvLmVtYWlsLCAvLyBsaXN0IG9mIHJlY2VpdmVyc1xyXG4gICAgc3ViamVjdDogJ+i/memHjOWhq+WGmeeahOmCruS7tuS4u+mimCcsXHJcbiAgICB0ZXh0OiAn5b2TaHRtbOacieWGheWuueeahOaXtuWAme+8jHRleHTnmoTlhoXlrrnkuI3kvJrmmL7npLonLFxyXG4gICAgaHRtbDogYFxyXG4gICAgICAgIDxkaXYgc3R5bGU9XCJib3JkZXI6IDFweCBzb2xpZCAjZGNkY2RjO2NvbG9yOiAjNjc2NzY3O3dpZHRoOiA2MDBweDsgbWFyZ2luOiAwIGF1dG87IHBhZGRpbmctYm90dG9tOiA1MHB4O3Bvc2l0aW9uOiByZWxhdGl2ZTtcIj5cclxuICAgICAgICA8ZGl2IHN0eWxlPVwiaGVpZ2h0OiA2MHB4OyBiYWNrZ3JvdW5kOiAjMzkzZDQ5OyBsaW5lLWhlaWdodDogNjBweDsgY29sb3I6ICM1OGEzNmY7IGZvbnQtc2l6ZTogMThweDtwYWRkaW5nLWxlZnQ6IDEwcHg7XCI+SW1vb2PnpL7ljLrigJTigJTmrKLov47mnaXliLDlrpjmlrnnpL7ljLo8L2Rpdj5cclxuICAgICAgICA8ZGl2IHN0eWxlPVwicGFkZGluZzogMjVweFwiPlxyXG4gICAgICAgICAgPGRpdj7mgqjlpb3vvIwke3NlbmRJbmZvLnVzZXJ956ul6Z6L77yM6ZO+5o6l5pyJ5pWI5pe26Ze0MzDliIbpkp/vvIzor7flnKgke1xyXG4gICAgICBzZW5kSW5mby5leHBpcmVcclxuICAgIH3kuYvliY3ph43nva7mgqjnmoTlr4bnoIHvvJo8L2Rpdj5cclxuICAgICAgICAgIDxhIGhyZWY9XCIke3VybH1cIiBzdHlsZT1cInBhZGRpbmc6IDEwcHggMjBweDsgY29sb3I6ICNmZmY7IGJhY2tncm91bmQ6ICMwMDllOTQ7IGRpc3BsYXk6IGlubGluZS1ibG9jazttYXJnaW46IDE1cHggMDtcIj7nq4vljbPph43nva7lr4bnoIE8L2E+XHJcbiAgICAgICAgICA8ZGl2IHN0eWxlPVwicGFkZGluZzogNXB4OyBiYWNrZ3JvdW5kOiAjZjJmMmYyO1wiPuWmguaenOivpemCruS7tuS4jeaYr+eUseS9oOacrOS6uuaTjeS9nO+8jOivt+WLv+i/m+ihjOa/gOa0u++8geWQpuWImeS9oOeahOmCrueuseWwhuS8muiiq+S7luS6uue7keWumuOAgjwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kOiAjZmFmYWZhOyBjb2xvcjogI2I0YjRiNDt0ZXh0LWFsaWduOiBjZW50ZXI7IGxpbmUtaGVpZ2h0OiA0NXB4OyBoZWlnaHQ6IDQ1cHg7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogMDsgYm90dG9tOiAwO3dpZHRoOiAxMDAlO1wiPuezu+e7n+mCruS7tu+8jOivt+WLv+ebtOaOpeWbnuWkjTwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgICBgLCAvLyBodG1sIGJvZHlcclxuICB9KVxyXG5cclxuICByZXR1cm4gJ01lc3NhZ2Ugc2VudDogJXMnLCBpbmZvLm1lc3NhZ2VJZFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBzZW5kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/config/MailConfig.js\n");

/***/ }),

/***/ "./src/config/RedisConfig.js":
/*!***********************************!*\
  !*** ./src/config/RedisConfig.js ***!
  \***********************************/
/*! exports provided: client, setValue, getValue, getHValue, delValue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"client\", function() { return client; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setValue\", function() { return setValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getValue\", function() { return getValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getHValue\", function() { return getHValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"delValue\", function() { return delValue; });\n/* harmony import */ var redis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redis */ \"redis\");\n/* harmony import */ var redis__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(redis__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var bluebird__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bluebird */ \"bluebird\");\n/* harmony import */ var bluebird__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bluebird__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index */ \"./src/config/index.js\");\n\n\n\nconst options = {\n  host: _index__WEBPACK_IMPORTED_MODULE_2__[\"default\"].REDIS.host,\n  port: _index__WEBPACK_IMPORTED_MODULE_2__[\"default\"].REDIS.port,\n  password: _index__WEBPACK_IMPORTED_MODULE_2__[\"default\"].REDIS.password,\n  detect_buffers: true,\n  retry_strategy: function (options) {\n    if (options.error && options.error.code === 'ECONNREFUSED') {\n      // End reconnecting on a specific error and flush all commands with\n      // a individual error\n      return new Error('The server refused the connection');\n    }\n\n    if (options.total_retry_time > 1000 * 60 * 60) {\n      // End reconnecting after a specific timeout and flush all commands\n      // with a individual error\n      return new Error('Retry time exhausted');\n    }\n\n    if (options.attempt > 10) {\n      // End reconnecting with built in error\n      return undefined;\n    } // reconnect after\n\n\n    return Math.min(options.attempt * 100, 3000);\n  }\n};\nconst client = Object(bluebird__WEBPACK_IMPORTED_MODULE_1__[\"promisifyAll\"])(redis__WEBPACK_IMPORTED_MODULE_0___default.a.createClient(options));\nclient.on('error', err => {\n  console.log('Redis Client Error:' + err);\n});\n\nconst setValue = (key, value, time) => {\n  if (typeof value === 'undefined' || value == null || value === '') {\n    return;\n  }\n\n  if (typeof value === 'string') {\n    if (typeof time !== 'undefined') {\n      client.set(key, value, 'EX', time);\n    } else {\n      client.set(key, value);\n    }\n  } else if (typeof value === 'object') {\n    // { key1: value1, key2: value2}\n    // Object.keys(value) => [key1, key2]\n    Object.keys(value).forEach(item => {\n      client.hset(key, item, value[item], redis__WEBPACK_IMPORTED_MODULE_0___default.a.print);\n    });\n  }\n};\n\nconst getValue = key => {\n  return client.getAsync(key);\n};\n\nconst getHValue = key => {\n  return client.hgetallAsync(key);\n};\n\nconst delValue = key => {\n  client.del(key, (err, res) => {\n    if (res === 1) {\n      console.log('delete successfully');\n    } else {\n      console.log('delete redis key error:' + err);\n    }\n  });\n};\n\n // 测试操作\n// import { getValue, setValue, getHValue, delValue } from './RedisConfig'\n// setValue('imooc', 'imooc message from redis client')\n// getValue('imooc').then((res) => {\n//   console.log('getValue:' + res)\n// })\n// delValue('imooc')\n// setValue('imoocobj', {name: 'brian', age: 30, email: 'brian@toimc.com'})\n// getHValue('imoocobj').then((res) => {\n//   console.log('getHValue:' +JSON.stringify(res, null, 2))\n// })//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL1JlZGlzQ29uZmlnLmpzP2I3ODkiXSwibmFtZXMiOlsib3B0aW9ucyIsImhvc3QiLCJjb25maWciLCJSRURJUyIsInBvcnQiLCJwYXNzd29yZCIsImRldGVjdF9idWZmZXJzIiwicmV0cnlfc3RyYXRlZ3kiLCJlcnJvciIsImNvZGUiLCJFcnJvciIsInRvdGFsX3JldHJ5X3RpbWUiLCJhdHRlbXB0IiwidW5kZWZpbmVkIiwiTWF0aCIsIm1pbiIsImNsaWVudCIsInByb21pc2lmeUFsbCIsInJlZGlzIiwiY3JlYXRlQ2xpZW50Iiwib24iLCJlcnIiLCJjb25zb2xlIiwibG9nIiwic2V0VmFsdWUiLCJrZXkiLCJ2YWx1ZSIsInRpbWUiLCJzZXQiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsIml0ZW0iLCJoc2V0IiwicHJpbnQiLCJnZXRWYWx1ZSIsImdldEFzeW5jIiwiZ2V0SFZhbHVlIiwiaGdldGFsbEFzeW5jIiwiZGVsVmFsdWUiLCJkZWwiLCJyZXMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQSxNQUFNQSxPQUFPLEdBQUc7QUFDZEMsTUFBSSxFQUFFQyw4Q0FBTSxDQUFDQyxLQUFQLENBQWFGLElBREw7QUFFZEcsTUFBSSxFQUFFRiw4Q0FBTSxDQUFDQyxLQUFQLENBQWFDLElBRkw7QUFHZEMsVUFBUSxFQUFFSCw4Q0FBTSxDQUFDQyxLQUFQLENBQWFFLFFBSFQ7QUFJZEMsZ0JBQWMsRUFBRSxJQUpGO0FBS2RDLGdCQUFjLEVBQUUsVUFBVVAsT0FBVixFQUFtQjtBQUNqQyxRQUFJQSxPQUFPLENBQUNRLEtBQVIsSUFBaUJSLE9BQU8sQ0FBQ1EsS0FBUixDQUFjQyxJQUFkLEtBQXVCLGNBQTVDLEVBQTREO0FBQzFEO0FBQ0E7QUFDQSxhQUFPLElBQUlDLEtBQUosQ0FBVSxtQ0FBVixDQUFQO0FBQ0Q7O0FBQ0QsUUFBSVYsT0FBTyxDQUFDVyxnQkFBUixHQUEyQixPQUFPLEVBQVAsR0FBWSxFQUEzQyxFQUErQztBQUM3QztBQUNBO0FBQ0EsYUFBTyxJQUFJRCxLQUFKLENBQVUsc0JBQVYsQ0FBUDtBQUNEOztBQUNELFFBQUlWLE9BQU8sQ0FBQ1ksT0FBUixHQUFrQixFQUF0QixFQUEwQjtBQUN4QjtBQUNBLGFBQU9DLFNBQVA7QUFDRCxLQWRnQyxDQWVqQzs7O0FBQ0EsV0FBT0MsSUFBSSxDQUFDQyxHQUFMLENBQVNmLE9BQU8sQ0FBQ1ksT0FBUixHQUFrQixHQUEzQixFQUFnQyxJQUFoQyxDQUFQO0FBQ0Q7QUF0QmEsQ0FBaEI7QUF5QkEsTUFBTUksTUFBTSxHQUFHQyw2REFBWSxDQUFDQyw0Q0FBSyxDQUFDQyxZQUFOLENBQW1CbkIsT0FBbkIsQ0FBRCxDQUEzQjtBQUVBZ0IsTUFBTSxDQUFDSSxFQUFQLENBQVUsT0FBVixFQUFvQkMsR0FBRCxJQUFTO0FBQzFCQyxTQUFPLENBQUNDLEdBQVIsQ0FBWSx3QkFBd0JGLEdBQXBDO0FBQ0QsQ0FGRDs7QUFJQSxNQUFNRyxRQUFRLEdBQUcsQ0FBQ0MsR0FBRCxFQUFNQyxLQUFOLEVBQWFDLElBQWIsS0FBc0I7QUFDckMsTUFBSSxPQUFPRCxLQUFQLEtBQWlCLFdBQWpCLElBQWdDQSxLQUFLLElBQUksSUFBekMsSUFBaURBLEtBQUssS0FBSyxFQUEvRCxFQUFtRTtBQUNqRTtBQUNEOztBQUNELE1BQUksT0FBT0EsS0FBUCxLQUFpQixRQUFyQixFQUErQjtBQUM3QixRQUFJLE9BQU9DLElBQVAsS0FBZ0IsV0FBcEIsRUFBaUM7QUFDL0JYLFlBQU0sQ0FBQ1ksR0FBUCxDQUFXSCxHQUFYLEVBQWdCQyxLQUFoQixFQUF1QixJQUF2QixFQUE2QkMsSUFBN0I7QUFDRCxLQUZELE1BRU87QUFDTFgsWUFBTSxDQUFDWSxHQUFQLENBQVdILEdBQVgsRUFBZ0JDLEtBQWhCO0FBQ0Q7QUFDRixHQU5ELE1BTU8sSUFBSSxPQUFPQSxLQUFQLEtBQWlCLFFBQXJCLEVBQStCO0FBQ3BDO0FBQ0E7QUFDQUcsVUFBTSxDQUFDQyxJQUFQLENBQVlKLEtBQVosRUFBbUJLLE9BQW5CLENBQTRCQyxJQUFELElBQVU7QUFDbkNoQixZQUFNLENBQUNpQixJQUFQLENBQVlSLEdBQVosRUFBaUJPLElBQWpCLEVBQXVCTixLQUFLLENBQUNNLElBQUQsQ0FBNUIsRUFBb0NkLDRDQUFLLENBQUNnQixLQUExQztBQUNELEtBRkQ7QUFHRDtBQUNGLENBakJEOztBQW1CQSxNQUFNQyxRQUFRLEdBQUlWLEdBQUQsSUFBUztBQUN4QixTQUFPVCxNQUFNLENBQUNvQixRQUFQLENBQWdCWCxHQUFoQixDQUFQO0FBQ0QsQ0FGRDs7QUFJQSxNQUFNWSxTQUFTLEdBQUlaLEdBQUQsSUFBUztBQUN6QixTQUFPVCxNQUFNLENBQUNzQixZQUFQLENBQW9CYixHQUFwQixDQUFQO0FBQ0QsQ0FGRDs7QUFJQSxNQUFNYyxRQUFRLEdBQUlkLEdBQUQsSUFBUztBQUN4QlQsUUFBTSxDQUFDd0IsR0FBUCxDQUFXZixHQUFYLEVBQWdCLENBQUNKLEdBQUQsRUFBTW9CLEdBQU4sS0FBYztBQUM1QixRQUFJQSxHQUFHLEtBQUssQ0FBWixFQUFlO0FBQ2JuQixhQUFPLENBQUNDLEdBQVIsQ0FBWSxxQkFBWjtBQUNELEtBRkQsTUFFTztBQUNMRCxhQUFPLENBQUNDLEdBQVIsQ0FBWSw0QkFBNEJGLEdBQXhDO0FBQ0Q7QUFDRixHQU5EO0FBT0QsQ0FSRDs7Q0FtQkE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQSIsImZpbGUiOiIuL3NyYy9jb25maWcvUmVkaXNDb25maWcuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcmVkaXMgZnJvbSAncmVkaXMnXHJcbmltcG9ydCB7IHByb21pc2lmeUFsbCB9IGZyb20gJ2JsdWViaXJkJ1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vaW5kZXgnXHJcblxyXG5jb25zdCBvcHRpb25zID0ge1xyXG4gIGhvc3Q6IGNvbmZpZy5SRURJUy5ob3N0LFxyXG4gIHBvcnQ6IGNvbmZpZy5SRURJUy5wb3J0LFxyXG4gIHBhc3N3b3JkOiBjb25maWcuUkVESVMucGFzc3dvcmQsXHJcbiAgZGV0ZWN0X2J1ZmZlcnM6IHRydWUsXHJcbiAgcmV0cnlfc3RyYXRlZ3k6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICBpZiAob3B0aW9ucy5lcnJvciAmJiBvcHRpb25zLmVycm9yLmNvZGUgPT09ICdFQ09OTlJFRlVTRUQnKSB7XHJcbiAgICAgIC8vIEVuZCByZWNvbm5lY3Rpbmcgb24gYSBzcGVjaWZpYyBlcnJvciBhbmQgZmx1c2ggYWxsIGNvbW1hbmRzIHdpdGhcclxuICAgICAgLy8gYSBpbmRpdmlkdWFsIGVycm9yXHJcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ1RoZSBzZXJ2ZXIgcmVmdXNlZCB0aGUgY29ubmVjdGlvbicpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbnMudG90YWxfcmV0cnlfdGltZSA+IDEwMDAgKiA2MCAqIDYwKSB7XHJcbiAgICAgIC8vIEVuZCByZWNvbm5lY3RpbmcgYWZ0ZXIgYSBzcGVjaWZpYyB0aW1lb3V0IGFuZCBmbHVzaCBhbGwgY29tbWFuZHNcclxuICAgICAgLy8gd2l0aCBhIGluZGl2aWR1YWwgZXJyb3JcclxuICAgICAgcmV0dXJuIG5ldyBFcnJvcignUmV0cnkgdGltZSBleGhhdXN0ZWQnKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zLmF0dGVtcHQgPiAxMCkge1xyXG4gICAgICAvLyBFbmQgcmVjb25uZWN0aW5nIHdpdGggYnVpbHQgaW4gZXJyb3JcclxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIC8vIHJlY29ubmVjdCBhZnRlclxyXG4gICAgcmV0dXJuIE1hdGgubWluKG9wdGlvbnMuYXR0ZW1wdCAqIDEwMCwgMzAwMCk7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBjbGllbnQgPSBwcm9taXNpZnlBbGwocmVkaXMuY3JlYXRlQ2xpZW50KG9wdGlvbnMpKVxyXG5cclxuY2xpZW50Lm9uKCdlcnJvcicsIChlcnIpID0+IHtcclxuICBjb25zb2xlLmxvZygnUmVkaXMgQ2xpZW50IEVycm9yOicgKyBlcnIpXHJcbn0pXHJcblxyXG5jb25zdCBzZXRWYWx1ZSA9IChrZXksIHZhbHVlLCB0aW1lKSA9PiB7XHJcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgdmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSA9PT0gJycpIHtcclxuICAgIHJldHVyblxyXG4gIH1cclxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xyXG4gICAgaWYgKHR5cGVvZiB0aW1lICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICBjbGllbnQuc2V0KGtleSwgdmFsdWUsICdFWCcsIHRpbWUpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjbGllbnQuc2V0KGtleSwgdmFsdWUpXHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XHJcbiAgICAvLyB7IGtleTE6IHZhbHVlMSwga2V5MjogdmFsdWUyfVxyXG4gICAgLy8gT2JqZWN0LmtleXModmFsdWUpID0+IFtrZXkxLCBrZXkyXVxyXG4gICAgT2JqZWN0LmtleXModmFsdWUpLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgY2xpZW50LmhzZXQoa2V5LCBpdGVtLCB2YWx1ZVtpdGVtXSwgcmVkaXMucHJpbnQpXHJcbiAgICB9KVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgZ2V0VmFsdWUgPSAoa2V5KSA9PiB7XHJcbiAgcmV0dXJuIGNsaWVudC5nZXRBc3luYyhrZXkpXHJcbn1cclxuXHJcbmNvbnN0IGdldEhWYWx1ZSA9IChrZXkpID0+IHtcclxuICByZXR1cm4gY2xpZW50LmhnZXRhbGxBc3luYyhrZXkpXHJcbn1cclxuXHJcbmNvbnN0IGRlbFZhbHVlID0gKGtleSkgPT4ge1xyXG4gIGNsaWVudC5kZWwoa2V5LCAoZXJyLCByZXMpID0+IHtcclxuICAgIGlmIChyZXMgPT09IDEpIHtcclxuICAgICAgY29uc29sZS5sb2coJ2RlbGV0ZSBzdWNjZXNzZnVsbHknKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdkZWxldGUgcmVkaXMga2V5IGVycm9yOicgKyBlcnIpXHJcbiAgICB9XHJcbiAgfSlcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICBjbGllbnQsXHJcbiAgc2V0VmFsdWUsXHJcbiAgZ2V0VmFsdWUsXHJcbiAgZ2V0SFZhbHVlLFxyXG4gIGRlbFZhbHVlXHJcbn1cclxuXHJcblxyXG4vLyDmtYvor5Xmk43kvZxcclxuLy8gaW1wb3J0IHsgZ2V0VmFsdWUsIHNldFZhbHVlLCBnZXRIVmFsdWUsIGRlbFZhbHVlIH0gZnJvbSAnLi9SZWRpc0NvbmZpZydcclxuXHJcbi8vIHNldFZhbHVlKCdpbW9vYycsICdpbW9vYyBtZXNzYWdlIGZyb20gcmVkaXMgY2xpZW50JylcclxuXHJcbi8vIGdldFZhbHVlKCdpbW9vYycpLnRoZW4oKHJlcykgPT4ge1xyXG4vLyAgIGNvbnNvbGUubG9nKCdnZXRWYWx1ZTonICsgcmVzKVxyXG4vLyB9KVxyXG5cclxuLy8gZGVsVmFsdWUoJ2ltb29jJylcclxuXHJcbi8vIHNldFZhbHVlKCdpbW9vY29iaicsIHtuYW1lOiAnYnJpYW4nLCBhZ2U6IDMwLCBlbWFpbDogJ2JyaWFuQHRvaW1jLmNvbSd9KVxyXG5cclxuLy8gZ2V0SFZhbHVlKCdpbW9vY29iaicpLnRoZW4oKHJlcykgPT4ge1xyXG4vLyAgIGNvbnNvbGUubG9nKCdnZXRIVmFsdWU6JyArSlNPTi5zdHJpbmdpZnkocmVzLCBudWxsLCAyKSlcclxuLy8gfSkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/config/RedisConfig.js\n");

/***/ }),

/***/ "./src/config/WebSocket.js":
/*!*********************************!*\
  !*** ./src/config/WebSocket.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _common_Utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/common/Utils */ \"./src/common/Utils.js\");\n/* harmony import */ var ws__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ws */ \"ws\");\n/* harmony import */ var ws__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(ws__WEBPACK_IMPORTED_MODULE_1__);\n\n // import {\n//     try\n// } from 'bluebird'\n\nclass WebSocketServer {\n  constructor(config = {}) {\n    const defaultConfig = {\n      // 运行端口\n      port: 3001,\n      // 30秒进行一次心跳检测\n      timeInterval: 30 * 1000,\n      isAuth: true\n    }; // 最终的配置\n\n    const finalConfig = { ...defaultConfig,\n      ...config\n    };\n    this.wss = {};\n    this.interval = finalConfig.timeInterval;\n    this.isAuth = finalConfig.isAuth;\n    this.port = finalConfig.port; // 接受用户传递的一些官方配置\n\n    this.options = config.options || {};\n  } // 初始化WebSocket服务\n\n\n  init() {\n    this.wss = new ws__WEBPACK_IMPORTED_MODULE_1___default.a.Server({\n      port: this.port,\n      ...this.options\n    }); // 心跳检测\n    // this.heartbeat()\n    // 连接信息\n\n    this.wss.on('connection', ws => {\n      ws.isAlive = true;\n      ws.on('message', msg => this.onMessage(ws, msg));\n      ws.on('close', () => this.onClose(ws));\n    });\n  }\n\n  onMessage(ws, msg) {\n    // 用户鉴权 => token => _id\n    // 心跳监测\n    // 消息发送\n    const msgObj = JSON.parse(msg);\n    const events = {\n      auth: async () => {\n        try {\n          const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_0__[\"getJWTPayload\"])(msgObj.message);\n\n          if (obj) {\n            ws.isAuth = true;\n            ws._id = obj._id;\n            ws.send(JSON.stringify({\n              event: 'message',\n              message: 'auth is ok'\n            }));\n          }\n        } catch (error) {\n          ws.send(JSON.stringify({\n            event: 'noauth',\n            message: 'please auth again'\n          }));\n        }\n      },\n      heartbeat: () => {\n        if (msgObj.message === 'pong') {\n          ws.isAlive = true;\n        }\n      },\n      message: () => {\n        // 鉴权拦截\n        if (!ws.isAuth && this.isAuth) {\n          return;\n        } // 消息广播\n\n\n        this.wss.clients.forEach(client => {\n          if (client.readyState === ws__WEBPACK_IMPORTED_MODULE_1___default.a.OPEN && client._id === ws._id) {\n            this.send(msg);\n          }\n        });\n      }\n    };\n    events[msgObj.event]();\n  } // 点对点的消息发送\n\n\n  send(msg) {\n    // send(uid, msg) {\n    this.wss.clients.forEach(client => {\n      if (client.readyState === ws__WEBPACK_IMPORTED_MODULE_1___default.a.OPEN) {\n        // if (client.readyState === WebSocket.OPEN && client._id === uid) {\n        client.send(msg);\n      }\n    });\n  } // 广播消息 => 推送系统消息\n\n\n  broadcast(msg) {\n    this.wss.clients.forEach(client => {\n      if (client.readyState === ws__WEBPACK_IMPORTED_MODULE_1___default.a.OPEN) {\n        client.send(msg);\n      }\n    });\n  }\n\n  onClose(ws) {} // 心跳检测\n\n\n  heartbeat() {\n    clearInterval(this.interval);\n    this.interval = setInterval(() => {\n      this.wss.clients.forEach(ws => {\n        // 如果已经是不在线状态了，则直接终止当此连接，房间连接数-1\n        if (!ws.isAlive && ws.roomid) {\n          delete ws['roomid'];\n          return ws.terminate();\n        } // 主动发送心跳检测请求\n        // 当客户返回了消息之后，主要设置flag为在线\n\n\n        ws.isAlive = false;\n        ws.send(JSON.stringify({\n          event: 'heartbeat',\n          message: 'ping',\n          num: group[ws.roomid]\n        }));\n      });\n    }, this.timeInterval);\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (WebSocketServer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL1dlYlNvY2tldC5qcz9jZDkzIl0sIm5hbWVzIjpbIldlYlNvY2tldFNlcnZlciIsImNvbnN0cnVjdG9yIiwiY29uZmlnIiwiZGVmYXVsdENvbmZpZyIsInBvcnQiLCJ0aW1lSW50ZXJ2YWwiLCJpc0F1dGgiLCJmaW5hbENvbmZpZyIsIndzcyIsImludGVydmFsIiwib3B0aW9ucyIsImluaXQiLCJXZWJTb2NrZXQiLCJTZXJ2ZXIiLCJvbiIsIndzIiwiaXNBbGl2ZSIsIm1zZyIsIm9uTWVzc2FnZSIsIm9uQ2xvc2UiLCJtc2dPYmoiLCJKU09OIiwicGFyc2UiLCJldmVudHMiLCJhdXRoIiwib2JqIiwiZ2V0SldUUGF5bG9hZCIsIm1lc3NhZ2UiLCJfaWQiLCJzZW5kIiwic3RyaW5naWZ5IiwiZXZlbnQiLCJlcnJvciIsImhlYXJ0YmVhdCIsImNsaWVudHMiLCJmb3JFYWNoIiwiY2xpZW50IiwicmVhZHlTdGF0ZSIsIk9QRU4iLCJicm9hZGNhc3QiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJyb29taWQiLCJ0ZXJtaW5hdGUiLCJudW0iLCJncm91cCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtDQUlBO0FBQ0E7QUFDQTs7QUFDQSxNQUFNQSxlQUFOLENBQXNCO0FBQ2xCQyxhQUFXLENBQUNDLE1BQU0sR0FBRyxFQUFWLEVBQWM7QUFDckIsVUFBTUMsYUFBYSxHQUFHO0FBQ2xCO0FBQ0FDLFVBQUksRUFBRSxJQUZZO0FBR2xCO0FBQ0FDLGtCQUFZLEVBQUUsS0FBSyxJQUpEO0FBS2xCQyxZQUFNLEVBQUU7QUFMVSxLQUF0QixDQURxQixDQVFyQjs7QUFDQSxVQUFNQyxXQUFXLEdBQUcsRUFDaEIsR0FBR0osYUFEYTtBQUVoQixTQUFHRDtBQUZhLEtBQXBCO0FBSUEsU0FBS00sR0FBTCxHQUFXLEVBQVg7QUFDQSxTQUFLQyxRQUFMLEdBQWdCRixXQUFXLENBQUNGLFlBQTVCO0FB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aUI7O0FBcUlQTCw4RUFBZiIsImZpbGUiOiIuL3NyYy9jb25maWcvV2ViU29ja2V0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICAgIGdldEpXVFBheWxvYWRcclxufSBmcm9tICdAL2NvbW1vbi9VdGlscydcclxuaW1wb3J0IFdlYlNvY2tldCBmcm9tICd3cydcclxuLy8gaW1wb3J0IHtcclxuLy8gICAgIHRyeVxyXG4vLyB9IGZyb20gJ2JsdWViaXJkJ1xyXG5jbGFzcyBXZWJTb2NrZXRTZXJ2ZXIge1xyXG4gICAgY29uc3RydWN0b3IoY29uZmlnID0ge30pIHtcclxuICAgICAgICBjb25zdCBkZWZhdWx0Q29uZmlnID0ge1xyXG4gICAgICAgICAgICAvLyDov5DooYznq6/lj6NcclxuICAgICAgICAgICAgcG9ydDogMzAwMSxcclxuICAgICAgICAgICAgLy8gMzDnp5Lov5vooYzkuIDmrKHlv4Pot7Pmo4DmtYtcclxuICAgICAgICAgICAgdGltZUludGVydmFsOiAzMCAqIDEwMDAsXHJcbiAgICAgICAgICAgIGlzQXV0aDogdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDmnIDnu4jnmoTphY3nva5cclxuICAgICAgICBjb25zdCBmaW5hbENvbmZpZyA9IHtcclxuICAgICAgICAgICAgLi4uZGVmYXVsdENvbmZpZyxcclxuICAgICAgICAgICAgLi4uY29uZmlnXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMud3NzID0ge31cclxuICAgICAgICB0aGlzLmludGVydmFsID0gZmluYWxDb25maWcudGltZUludGVydmFsXHJcbiAgICAgICAgdGhpcy5pc0F1dGggPSBmaW5hbENvbmZpZy5pc0F1dGhcclxuICAgICAgICB0aGlzLnBvcnQgPSBmaW5hbENvbmZpZy5wb3J0XHJcbiAgICAgICAgLy8g5o6l5Y+X55So5oi35Lyg6YCS55qE5LiA5Lqb5a6Y5pa56YWN572uXHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gY29uZmlnLm9wdGlvbnMgfHwge31cclxuXHJcbiAgICB9XHJcbiAgICAvLyDliJ3lp4vljJZXZWJTb2NrZXTmnI3liqFcclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy53c3MgPSBuZXcgV2ViU29ja2V0LlNlcnZlcih7XHJcbiAgICAgICAgICAgIHBvcnQ6IHRoaXMucG9ydCxcclxuICAgICAgICAgICAgLi4udGhpcy5vcHRpb25zXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLy8g5b+D6Lez5qOA5rWLXHJcbiAgICAgICAgLy8gdGhpcy5oZWFydGJlYXQoKVxyXG5cclxuICAgICAgICAvLyDov57mjqXkv6Hmga9cclxuICAgICAgICB0aGlzLndzcy5vbignY29ubmVjdGlvbicsICh3cykgPT4ge1xyXG4gICAgICAgICAgICB3cy5pc0FsaXZlID0gdHJ1ZVxyXG5cclxuICAgICAgICAgICAgd3Mub24oJ21lc3NhZ2UnLCAobXNnKSA9PiB0aGlzLm9uTWVzc2FnZSh3cywgbXNnKSlcclxuXHJcbiAgICAgICAgICAgIHdzLm9uKCdjbG9zZScsICgpID0+IHRoaXMub25DbG9zZSh3cykpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBvbk1lc3NhZ2Uod3MsIG1zZykge1xyXG4gICAgICAgIC8vIOeUqOaIt+mJtOadgyA9PiB0b2tlbiA9PiBfaWRcclxuICAgICAgICAvLyDlv4Pot7Pnm5HmtYtcclxuICAgICAgICAvLyDmtojmga/lj5HpgIFcclxuICAgICAgICBjb25zdCBtc2dPYmogPSBKU09OLnBhcnNlKG1zZylcclxuICAgICAgICBjb25zdCBldmVudHMgPSB7XHJcbiAgICAgICAgICAgIGF1dGg6IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUUGF5bG9hZChtc2dPYmoubWVzc2FnZSlcclxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdzLmlzQXV0aCA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgd3MuX2lkID0gb2JqLl9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3cy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiAnbWVzc2FnZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnYXV0aCBpcyBvaydcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICB3cy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6ICdub2F1dGgnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAncGxlYXNlIGF1dGggYWdhaW4nXHJcbiAgICAgICAgICAgICAgICAgICAgfSkpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGhlYXJ0YmVhdDogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1zZ09iai5tZXNzYWdlID09PSAncG9uZycpIHtcclxuICAgICAgICAgICAgICAgICAgICB3cy5pc0FsaXZlID0gdHJ1ZVxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWVzc2FnZTogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8g6Ym05p2D5oum5oiqXHJcbiAgICAgICAgICAgICAgICBpZiAoIXdzLmlzQXV0aCAmJiB0aGlzLmlzQXV0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8g5raI5oGv5bm/5pKtXHJcbiAgICAgICAgICAgICAgICB0aGlzLndzcy5jbGllbnRzLmZvckVhY2goKGNsaWVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjbGllbnQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4gJiYgY2xpZW50Ll9pZCA9PT0gd3MuX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZChtc2cpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBldmVudHNbbXNnT2JqLmV2ZW50XSgpXHJcblxyXG4gICAgfVxyXG4gICAgLy8g54K55a+554K555qE5raI5oGv5Y+R6YCBXHJcbiAgICBzZW5kKG1zZykge1xyXG4gICAgICAgIC8vIHNlbmQodWlkLCBtc2cpIHtcclxuICAgICAgICB0aGlzLndzcy5jbGllbnRzLmZvckVhY2goKGNsaWVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY2xpZW50LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiAoY2xpZW50LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOICYmIGNsaWVudC5faWQgPT09IHVpZCkge1xyXG4gICAgICAgICAgICAgICAgY2xpZW50LnNlbmQobXNnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyDlub/mkq3mtojmga8gPT4g5o6o6YCB57O757uf5raI5oGvXHJcbiAgICBicm9hZGNhc3QobXNnKSB7XHJcbiAgICAgICAgdGhpcy53c3MuY2xpZW50cy5mb3JFYWNoKChjbGllbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGNsaWVudC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICAgICAgY2xpZW50LnNlbmQobXNnKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBvbkNsb3NlKHdzKSB7fVxyXG5cclxuICAgIC8vIOW/g+i3s+ajgOa1i1xyXG4gICAgaGVhcnRiZWF0KCkge1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbClcclxuICAgICAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLndzcy5jbGllbnRzLmZvckVhY2goKHdzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyDlpoLmnpzlt7Lnu4/mmK/kuI3lnKjnur/nirbmgIHkuobvvIzliJnnm7TmjqXnu4jmraLlvZPmraTov57mjqXvvIzmiL/pl7Tov57mjqXmlbAtMVxyXG4gICAgICAgICAgICAgICAgaWYgKCF3cy5pc0FsaXZlICYmIHdzLnJvb21pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB3c1sncm9vbWlkJ11cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3MudGVybWluYXRlKClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIOS4u+WKqOWPkemAgeW/g+i3s+ajgOa1i+ivt+axglxyXG4gICAgICAgICAgICAgICAgLy8g5b2T5a6i5oi36L+U5Zue5LqG5raI5oGv5LmL5ZCO77yM5Li76KaB6K6+572uZmxhZ+S4uuWcqOe6v1xyXG4gICAgICAgICAgICAgICAgd3MuaXNBbGl2ZSA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB3cy5zZW5kKEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudDogJ2hlYXJ0YmVhdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ3BpbmcnLFxyXG4gICAgICAgICAgICAgICAgICAgIG51bTogZ3JvdXBbd3Mucm9vbWlkXVxyXG4gICAgICAgICAgICAgICAgfSkpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSwgdGhpcy50aW1lSW50ZXJ2YWwpXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFdlYlNvY2tldFNlcnZlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/config/WebSocket.js\n");

/***/ }),

/***/ "./src/config/index.js":
/*!*****************************!*\
  !*** ./src/config/index.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__dirname) {/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);\n\nconst DB_URL = 'mongodb://106.13.5.134:27017/mongotest';\nconst REDIS = {\n  host: '106.13.5.134',\n  port: 15001,\n  password: '123456'\n};\nconst JWT_SECRET = 'a&*38QthAKuiRwISGLotgq^3%^$zvA3A6Hfr8MF$jM*HY4*dWcwAW&9NGp7*b53!';\nconst baseUrl =  false ? undefined : 'http://localhost:8080';\nconst uploadPath =  false ? undefined : path__WEBPACK_IMPORTED_MODULE_0___default.a.join(path__WEBPACK_IMPORTED_MODULE_0___default.a.resolve(__dirname), '../../public');\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  DB_URL,\n  REDIS,\n  JWT_SECRET,\n  baseUrl,\n  uploadPath\n});\n/* WEBPACK VAR INJECTION */}.call(this, \"src\\\\config\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL2luZGV4LmpzP2YxMjEiXSwibmFtZXMiOlsiREJfVVJMIiwiUkVESVMiLCJob3N0IiwicG9ydCIsInBhc3N3b3JkIiwiSldUX1NFQ1JFVCIsImJhc2VVcmwiLCJwcm9jZXNzIiwidXBsb2FkUGF0aCIsInBhdGgiLCJqb2luIiwicmVzb2x2ZSIsIl9fZGlybmFtZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQSxNQUFNQSxNQUFNLEdBQUcsd0NBQWY7QUFDQSxNQUFNQyxLQUFLLEdBQUc7QUFDWkMsTUFBSSxFQUFFLGNBRE07QUFFWkMsTUFBSSxFQUFFLEtBRk07QUFHWkMsVUFBUSxFQUFFO0FBSEUsQ0FBZDtBQUtBLE1BQU1DLFVBQVUsR0FBRyxrRUFBbkI7QUFFQSxNQUFNQyxPQUFPLEdBQUdDLE1BQUEsR0FBd0MsU0FBeEMsR0FBeUQsdUJBQXpFO0FBRUEsTUFBTUMsVUFBVSxHQUFHRCxNQUFBLEdBQXdDLFNBQXhDLEdBQXdERSwyQ0FBSSxDQUFDQyxJQUFMLENBQVVELDJDQUFJLENBQUNFLE9BQUwsQ0FBYUMsU0FBYixDQUFWLEVBQW1DLGNBQW5DLENBQTNFO0FBRWU7QUFDYlosUUFEYTtBQUViQyxPQUZhO0FBR2JJLFlBSGE7QUFJYkMsU0FKYTtBQUtiRTtBQUxhLENBQWYsRSIsImZpbGUiOiIuL3NyYy9jb25maWcvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xyXG5cclxuY29uc3QgREJfVVJMID0gJ21vbmdvZGI6Ly8xMDYuMTMuNS4xMzQ6MjcwMTcvbW9uZ290ZXN0J1xyXG5jb25zdCBSRURJUyA9IHtcclxuICBob3N0OiAnMTA2LjEzLjUuMTM0JyxcclxuICBwb3J0OiAxNTAwMSxcclxuICBwYXNzd29yZDogJzEyMzQ1NidcclxufVxyXG5jb25zdCBKV1RfU0VDUkVUID0gJ2EmKjM4UXRoQUt1aVJ3SVNHTG90Z3FeMyVeJHp2QTNBNkhmcjhNRiRqTSpIWTQqZFdjd0FXJjlOR3A3KmI1MyEnXHJcblxyXG5jb25zdCBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWNpdG9uJyA/ICdzaXllemhvdS5jb20nIDogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MCdcclxuXHJcbmNvbnN0IHVwbG9hZFBhdGggPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y2l0b24nID8gJy9hcHAvcHVibGljJyA6IHBhdGguam9pbihwYXRoLnJlc29sdmUoX19kaXJuYW1lKSwgJy4uLy4uL3B1YmxpYycpXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgREJfVVJMLFxyXG4gIFJFRElTLFxyXG4gIEpXVF9TRUNSRVQsXHJcbiAgYmFzZVVybCxcclxuICB1cGxvYWRQYXRoXHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/config/index.js\n");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__dirname) {/* harmony import */ var koa__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa */ \"koa\");\n/* harmony import */ var koa__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var koa_jwt__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! koa-jwt */ \"koa-jwt\");\n/* harmony import */ var koa_jwt__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(koa_jwt__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var koa_helmet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! koa-helmet */ \"koa-helmet\");\n/* harmony import */ var koa_helmet__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(koa_helmet__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var koa_static__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! koa-static */ \"koa-static\");\n/* harmony import */ var koa_static__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(koa_static__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _routes_routes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./routes/routes */ \"./src/routes/routes.js\");\n/* harmony import */ var koa_body__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! koa-body */ \"koa-body\");\n/* harmony import */ var koa_body__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(koa_body__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var koa_json__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! koa-json */ \"koa-json\");\n/* harmony import */ var koa_json__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(koa_json__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _koa_cors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @koa/cors */ \"@koa/cors\");\n/* harmony import */ var _koa_cors__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_koa_cors__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var koa_compose__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! koa-compose */ \"koa-compose\");\n/* harmony import */ var koa_compose__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(koa_compose__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var koa_compress__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! koa-compress */ \"koa-compress\");\n/* harmony import */ var koa_compress__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(koa_compress__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./config/index */ \"./src/config/index.js\");\n/* harmony import */ var _common_ErrorHandle__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./common/ErrorHandle */ \"./src/common/ErrorHandle.js\");\n/* harmony import */ var _config_WebSocket__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./config/WebSocket */ \"./src/config/WebSocket.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst app = new koa__WEBPACK_IMPORTED_MODULE_0___default.a();\nconst ws = new _config_WebSocket__WEBPACK_IMPORTED_MODULE_13__[\"default\"]();\nws.init(); // 将ws绑定到全局变量global上\n\nglobal.ws = ws;\nconst isDevMode =  false ? undefined : true; // 定义公共路径，不需要jwt鉴权\n\nconst jwt = koa_jwt__WEBPACK_IMPORTED_MODULE_1___default()({\n  secret: _config_index__WEBPACK_IMPORTED_MODULE_11__[\"default\"].JWT_SECRET\n}).unless({\n  path: [/^\\/public/, /\\/login/]\n});\n/**\r\n * 使用koa-compose 集成中间件\r\n */\n\nconst middleware = koa_compose__WEBPACK_IMPORTED_MODULE_9___default()([koa_body__WEBPACK_IMPORTED_MODULE_6___default()({\n  multipart: true,\n  formidable: {\n    // 保留文件的后缀\n    keepExtensions: true,\n    // 允许最大体积为5M\n    maxFieldsSize: 5 * 1024 * 1024\n  },\n  // 监听文件上传错误\n  onError: err => {\n    console.log('文件上传出错', err);\n  }\n}), koa_static__WEBPACK_IMPORTED_MODULE_4___default()(path__WEBPACK_IMPORTED_MODULE_2___default.a.join(__dirname, '../public')), _koa_cors__WEBPACK_IMPORTED_MODULE_8___default()(), koa_json__WEBPACK_IMPORTED_MODULE_7___default()({\n  pretty: false,\n  param: 'pretty'\n}), koa_helmet__WEBPACK_IMPORTED_MODULE_3___default()(), _common_ErrorHandle__WEBPACK_IMPORTED_MODULE_12__[\"default\"], jwt]);\n\nif (!isDevMode) {\n  app.use(koa_compress__WEBPACK_IMPORTED_MODULE_10___default()());\n}\n\napp.use(middleware);\napp.use(Object(_routes_routes__WEBPACK_IMPORTED_MODULE_5__[\"default\"])());\napp.listen(3000);\n/* WEBPACK VAR INJECTION */}.call(this, \"src\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/YjYzNSJdLCJuYW1lcyI6WyJhcHAiLCJrb2EiLCJ3cyIsIldlYlNvY2tldFNlcnZlciIsImluaXQiLCJnbG9iYWwiLCJpc0Rldk1vZGUiLCJwcm9jZXNzIiwiand0IiwiSldUIiwic2VjcmV0IiwiY29uZmlnIiwiSldUX1NFQ1JFVCIsInVubGVzcyIsInBhdGgiLCJtaWRkbGV3YXJlIiwiY29tcG9zZSIsImtvYUJvZHkiLCJtdWx0aXBhcnQiLCJmb3JtaWRhYmxlIiwia2VlcEV4dGVuc2lvbnMiLCJtYXhGaWVsZHNTaXplIiwib25FcnJvciIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJzdGF0aWNzIiwiam9pbiIsIl9fZGlybmFtZSIsImNvcnMiLCJqc29udXRpbCIsInByZXR0eSIsInBhcmFtIiwiaGVsbWV0IiwiZXJyb3JIYW5kbGUiLCJ1c2UiLCJjb21wcmVzcyIsInJvdXRlciIsImxpc3RlbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsTUFBTUEsR0FBRyxHQUFHLElBQUlDLDBDQUFKLEVBQVo7QUFDQSxNQUFNQyxFQUFFLEdBQUcsSUFBSUMsMERBQUosRUFBWDtBQUNBRCxFQUFFLENBQUNFLElBQUgsRyxDQUNBOztBQUNBQyxNQUFNLENBQUNILEVBQVAsR0FBWUEsRUFBWjtBQUVBLE1BQU1JLFNBQVMsR0FBR0MsTUFBQSxHQUF3QyxTQUF4QyxHQUFnRCxJQUFsRSxDLENBRUE7O0FBQ0EsTUFBTUMsR0FBRyxHQUFHQyw4Q0FBRyxDQUFDO0FBQ2RDLFFBQU0sRUFBRUMsc0RBQU0sQ0FBQ0M7QUFERCxDQUFELENBQUgsQ0FFVEMsTUFGUyxDQUVGO0FBQ1JDLE1BQUksRUFBRSxDQUFDLFdBQUQsRUFBYyxTQUFkO0FBREUsQ0FGRSxDQUFaO0FBTUE7QUFDQTtBQUNBOztBQUNBLE1BQU1DLFVBQVUsR0FBR0Msa0RBQU8sQ0FBQyxDQUN6QkMsK0NBQU8sQ0FBQztBQUNOQyxXQUFTLEVBQUUsSUFETDtBQUVOQyxZQUFVLEVBQUU7QUFDVjtBQUNBQyxrQkFBYyxFQUFFLElBRk47QUFHVjtBQUNBQyxpQkFBYSxFQUFFLElBQUksSUFBSixHQUFXO0FBSmhCLEdBRk47QUFRTjtBQUNBQyxTQUFPLEVBQUVDLEdBQUcsSUFBSTtBQUNkQyxXQUFPLENBQUNDLEdBQVIsQ0FBWSxRQUFaLEVBQXNCRixHQUF0QjtBQUNEO0FBWEssQ0FBRCxDQURrQixFQWN6QkcsaURBQU8sQ0FBQ1osMkNBQUksQ0FBQ2EsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLFdBQXJCLENBQUQsQ0Fka0IsRUFlekJDLGdEQUFJLEVBZnFCLEVBZ0J6QkMsK0NBQVEsQ0FBQztBQUNQQyxRQUFNLEVBQUUsS0FERDtBQUVQQyxPQUFLLEVBQUU7QUFGQSxDQUFELENBaEJpQixFQW9CekJDLGlEQUFNLEVBcEJtQixFQXFCekJDLDREQXJCeUIsRUFzQnpCMUIsR0F0QnlCLENBQUQsQ0FBMUI7O0FBeUJBLElBQUksQ0FBQ0YsU0FBTCxFQUFnQjtBQUNkTixLQUFHLENBQUNtQyxHQUFKLENBQVFDLG9EQUFRLEVBQWhCO0FBQ0Q7O0FBRURwQyxHQUFHLENBQUNtQyxHQUFKLENBQVFwQixVQUFSO0FBQ0FmLEdBQUcsQ0FBQ21DLEdBQUosQ0FBUUUsOERBQU0sRUFBZDtBQUVBckMsR0FBRyxDQUFDc0MsTUFBSixDQUFXLElBQVgsRSIsImZpbGUiOiIuL3NyYy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBrb2EgZnJvbSAna29hJ1xyXG5pbXBvcnQgSldUIGZyb20gJ2tvYS1qd3QnXHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXHJcbmltcG9ydCBoZWxtZXQgZnJvbSAna29hLWhlbG1ldCdcclxuaW1wb3J0IHN0YXRpY3MgZnJvbSAna29hLXN0YXRpYydcclxuaW1wb3J0IHJvdXRlciBmcm9tICcuL3JvdXRlcy9yb3V0ZXMnXHJcbmltcG9ydCBrb2FCb2R5IGZyb20gJ2tvYS1ib2R5J1xyXG5pbXBvcnQganNvbnV0aWwgZnJvbSAna29hLWpzb24nXHJcbmltcG9ydCBjb3JzIGZyb20gJ0Brb2EvY29ycydcclxuaW1wb3J0IGNvbXBvc2UgZnJvbSAna29hLWNvbXBvc2UnXHJcbmltcG9ydCBjb21wcmVzcyBmcm9tICdrb2EtY29tcHJlc3MnXHJcbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcvaW5kZXgnXHJcbmltcG9ydCBlcnJvckhhbmRsZSBmcm9tICcuL2NvbW1vbi9FcnJvckhhbmRsZSdcclxuaW1wb3J0IFdlYlNvY2tldFNlcnZlciBmcm9tICcuL2NvbmZpZy9XZWJTb2NrZXQnXHJcblxyXG5jb25zdCBhcHAgPSBuZXcga29hKClcclxuY29uc3Qgd3MgPSBuZXcgV2ViU29ja2V0U2VydmVyKClcclxud3MuaW5pdCgpXHJcbi8vIOWwhndz57uR5a6a5Yiw5YWo5bGA5Y+Y6YePZ2xvYmFs5LiKXHJcbmdsb2JhbC53cyA9IHdzXHJcblxyXG5jb25zdCBpc0Rldk1vZGUgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gZmFsc2UgOiB0cnVlXHJcblxyXG4vLyDlrprkuYnlhazlhbHot6/lvoTvvIzkuI3pnIDopoFqd3TpibTmnYNcclxuY29uc3Qgand0ID0gSldUKHtcclxuICBzZWNyZXQ6IGNvbmZpZy5KV1RfU0VDUkVUXHJcbn0pLnVubGVzcyh7XHJcbiAgcGF0aDogWy9eXFwvcHVibGljLywgL1xcL2xvZ2luL11cclxufSlcclxuXHJcbi8qKlxyXG4gKiDkvb/nlKhrb2EtY29tcG9zZSDpm4bmiJDkuK3pl7Tku7ZcclxuICovXHJcbmNvbnN0IG1pZGRsZXdhcmUgPSBjb21wb3NlKFtcclxuICBrb2FCb2R5KHtcclxuICAgIG11bHRpcGFydDogdHJ1ZSxcclxuICAgIGZvcm1pZGFibGU6IHtcclxuICAgICAgLy8g5L+d55WZ5paH5Lu255qE5ZCO57yAXHJcbiAgICAgIGtlZXBFeHRlbnNpb25zOiB0cnVlLFxyXG4gICAgICAvLyDlhYHorrjmnIDlpKfkvZPnp6/kuLo1TVxyXG4gICAgICBtYXhGaWVsZHNTaXplOiA1ICogMTAyNCAqIDEwMjRcclxuICAgIH0sXHJcbiAgICAvLyDnm5HlkKzmlofku7bkuIrkvKDplJnor69cclxuICAgIG9uRXJyb3I6IGVyciA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfmlofku7bkuIrkvKDlh7rplJknLCBlcnIpXHJcbiAgICB9XHJcbiAgfSksXHJcbiAgc3RhdGljcyhwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4vcHVibGljJykpLFxyXG4gIGNvcnMoKSxcclxuICBqc29udXRpbCh7XHJcbiAgICBwcmV0dHk6IGZhbHNlLFxyXG4gICAgcGFyYW06ICdwcmV0dHknXHJcbiAgfSksXHJcbiAgaGVsbWV0KCksXHJcbiAgZXJyb3JIYW5kbGUsXHJcbiAgand0XHJcbl0pXHJcblxyXG5pZiAoIWlzRGV2TW9kZSkge1xyXG4gIGFwcC51c2UoY29tcHJlc3MoKSlcclxufVxyXG5cclxuYXBwLnVzZShtaWRkbGV3YXJlKVxyXG5hcHAudXNlKHJvdXRlcigpKVxyXG5cclxuYXBwLmxpc3RlbigzMDAwKSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ }),

/***/ "./src/model/Post.js":
/*!***************************!*\
  !*** ./src/model/Post.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst PostSchema = new Schema({\n  uid: {\n    type: String,\n    ref: 'users'\n  },\n  title: {\n    type: String\n  },\n  content: {\n    type: String\n  },\n  created: {\n    type: Date\n  },\n  catalog: {\n    type: String\n  },\n  fav: {\n    type: String\n  },\n  isEnd: {\n    type: String,\n    default: '0'\n  },\n  reads: {\n    type: Number,\n    default: 0\n  },\n  answer: {\n    type: Number,\n    default: 0\n  },\n  status: {\n    type: String,\n    default: '0'\n  },\n  isTop: {\n    type: String,\n    default: '0'\n  },\n  sort: {\n    type: String,\n    default: '100'\n  },\n  tags: {\n    type: Array // default: [{\n    //     name: '',\n    //     calss: ''\n    // }]\n\n  }\n});\nPostSchema.pre('save', function (next) {\n  this.created = dayjs__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD HH:mm:ss');\n  next();\n});\nPostSchema.statics = {\n  /**\r\n   * 设置文章列表数据\r\n   * @params {Object} options 筛选条件\r\n   * @params {String} options 排序方式\r\n   * @params {Number} options 分页页数\r\n   * @params {Number} options 分页条数\r\n   */\n  getPost: function (options, sort, page, limit) {\n    return this.find(options).sort({\n      [sort]: -1\n    }).skip(page * limit).limit(limit).populate({\n      path: 'uid',\n      select: 'name isVip pic'\n    });\n  }\n};\nconst postModel = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('post', PostSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (postModel);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvUG9zdC5qcz81OWM1Il0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwiUG9zdFNjaGVtYSIsInVpZCIsInR5cGUiLCJTdHJpbmciLCJyZWYiLCJ0aXRsZSIsImNvbnRlbnQiLCJjcmVhdGVkIiwiRGF0ZSIsImNhdGFsb2ciLCJmYXYiLCJpc0VuZCIsImRlZmF1bHQiLCJyZWFkcyIsIk51bWJlciIsImFuc3dlciIsInN0YXR1cyIsImlzVG9wIiwic29ydCIsInRhZ3MiLCJBcnJheSIsInByZSIsIm5leHQiLCJtb21lbnQiLCJmb3JtYXQiLCJzdGF0aWNzIiwiZ2V0UG9zdCIsIm9wdGlvbnMiLCJwYWdlIiwibGltaXQiLCJmaW5kIiwic2tpcCIsInBvcHVsYXRlIiwicGF0aCIsInNlbGVjdCIsInBvc3RNb2RlbCIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLHlEQUFRLENBQUNELE1BQXhCO0FBRUEsTUFBTUUsVUFBVSxHQUFHLElBQUlGLE1BQUosQ0FBVztBQUMxQkcsS0FBRyxFQUFFO0FBQ0RDLFFBQUksRUFBRUMsTUFETDtBQUVEQyxPQUFHLEVBQUU7QUFGSixHQURxQjtBQUsxQkMsT0FBSyxFQUFFO0FBQ0hILFFBQUksRUFBRUM7QUFESCxHQUxtQjtBQVExQkcsU0FBTyxFQUFFO0FBQ0xKLFFBQUksRUFBRUM7QUFERCxHQVJpQjtBQVkxQkksU0FBTyxFQUFFO0FBQ0xMLFFBQUksRUFBRU07QUFERCxHQVppQjtBQWUxQkMsU0FBTyxFQUFFO0FBQ0xQLFFBQUksRUFBRUM7QUFERCxHQWZpQjtBQWtCMUJPLEtBQUcsRUFBRTtBQUNEUixRQUFJLEVBQUVDO0FBREwsR0FsQnFCO0FBcUIxQlEsT0FBSyxFQUFFO0FBQ0hULFFBQUksRUFBRUMsTUFESDtBQUVIUyxXQUFPLEVBQUU7QUFGTixHQXJCbUI7QUF5QjFCQyxPQUFLLEVBQUU7QUFDSFgsUUFBSSxFQUFFWSxNQURIO0FBRUhGLFdBQU8sRUFBRTtBQUZOLEdBekJtQjtBQTZCMUJHLFFBQU0sRUFBRTtBQUNKYixRQUFJLEVBQUVZLE1BREY7QUFFSkYsV0FBTyxFQUFFO0FBRkwsR0E3QmtCO0FBaUMxQkksUUFBTSxFQUFFO0FBQ0pkLFFBQUksRUFBRUMsTUFERjtBQUVKUyxXQUFPLEVBQUU7QUFGTCxHQWpDa0I7QUFxQzFCSyxPQUFLLEVBQUU7QUFDSGYsUUFBSSxFQUFFQyxNQURIO0FBRUhTLFdBQU8sRUFBRTtBQUZOLEdBckNtQjtBQXlDMUJNLE1BQUksRUFBRTtBQUNGaEIsUUFBSSxFQUFFQyxNQURKO0FBRUZTLFdBQU8sRUFBRTtBQUZQLEdBekNvQjtBQTZDMUJPLE1BQUksRUFBRTtBQUNGakIsUUFBSSxFQUFFa0IsS0FESixDQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUxFO0FBN0NvQixDQUFYLENBQW5CO0FBd0RBcEIsVUFBVSxDQUFDcUIsR0FBWCxDQUFlLE1BQWYsRUFBdUIsVUFBVUMsSUFBVixFQUFnQjtBQUNuQyxPQUFLZixPQUFMLEdBQWVnQiw0Q0FBTSxHQUFHQyxNQUFULENBQWdCLHFCQUFoQixDQUFmO0FBQ0FGLE1BQUk7QUFDUCxDQUhEO0FBS0F0QixVQUFVLENBQUN5QixPQUFYLEdBQXFCO0FBQ2pCO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0lDLFNBQU8sRUFBRSxVQUFVQyxPQUFWLEVBQW1CVCxJQUFuQixFQUF5QlUsSUFBekIsRUFBK0JDLEtBQS9CLEVBQXNDO0FBQzNDLFdBQU8sS0FBS0MsSUFBTCxDQUFVSCxPQUFWLEVBQ0ZULElBREUsQ0FDRztBQUNGLE9BQUNBLElBQUQsR0FBUSxDQUFDO0FBRFAsS0FESCxFQUlGYSxJQUpFLENBSUdILElBQUksR0FBR0MsS0FKVixFQUtGQSxLQUxFLENBS0lBLEtBTEosRUFNRkcsUUFORSxDQU1PO0FBQ05DLFVBQUksRUFBRSxLQURBO0FBRU5DLFlBQU0sRUFBRTtBQUZGLEtBTlAsQ0FBUDtBQVVIO0FBbkJnQixDQUFyQjtBQXNCQSxNQUFNQyxTQUFTLEdBQUdwQyx5REFBUSxDQUFDcUMsS0FBVCxDQUFlLE1BQWYsRUFBdUJwQyxVQUF2QixDQUFsQjtBQUVlbUMsd0VBQWYiLCJmaWxlIjoiLi9zcmMvbW9kZWwvUG9zdC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdAL2NvbmZpZy9EQkhlbHBsZXInXHJcbmltcG9ydCBtb21lbnQgZnJvbSAnZGF5anMnXHJcblxyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWFcclxuXHJcbmNvbnN0IFBvc3RTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHVpZDoge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICByZWY6ICd1c2VycydcclxuICAgIH0sXHJcbiAgICB0aXRsZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZ1xyXG4gICAgfSxcclxuICAgIGNvbnRlbnQ6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmdcclxuICAgIH0sXHJcblxyXG4gICAgY3JlYXRlZDoge1xyXG4gICAgICAgIHR5cGU6IERhdGVcclxuICAgIH0sXHJcbiAgICBjYXRhbG9nOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nXHJcbiAgICB9LFxyXG4gICAgZmF2OiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nXHJcbiAgICB9LFxyXG4gICAgaXNFbmQ6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgZGVmYXVsdDogJzAnXHJcbiAgICB9LFxyXG4gICAgcmVhZHM6IHtcclxuICAgICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgICAgZGVmYXVsdDogMFxyXG4gICAgfSxcclxuICAgIGFuc3dlcjoge1xyXG4gICAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgICBkZWZhdWx0OiAwXHJcbiAgICB9LFxyXG4gICAgc3RhdHVzOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIGRlZmF1bHQ6ICcwJ1xyXG4gICAgfSxcclxuICAgIGlzVG9wOiB7XHJcbiAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgIGRlZmF1bHQ6ICcwJ1xyXG4gICAgfSxcclxuICAgIHNvcnQ6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgZGVmYXVsdDogJzEwMCdcclxuICAgIH0sXHJcbiAgICB0YWdzOiB7XHJcbiAgICAgICAgdHlwZTogQXJyYXksXHJcbiAgICAgICAgLy8gZGVmYXVsdDogW3tcclxuICAgICAgICAvLyAgICAgbmFtZTogJycsXHJcbiAgICAgICAgLy8gICAgIGNhbHNzOiAnJ1xyXG4gICAgICAgIC8vIH1dXHJcbiAgICB9LFxyXG5cclxuXHJcbn0pXHJcblxyXG5Qb3N0U2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgICB0aGlzLmNyZWF0ZWQgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKVxyXG4gICAgbmV4dCgpXHJcbn0pXHJcblxyXG5Qb3N0U2NoZW1hLnN0YXRpY3MgPSB7XHJcbiAgICAvKipcclxuICAgICAqIOiuvue9ruaWh+eroOWIl+ihqOaVsOaNrlxyXG4gICAgICogQHBhcmFtcyB7T2JqZWN0fSBvcHRpb25zIOetm+mAieadoeS7tlxyXG4gICAgICogQHBhcmFtcyB7U3RyaW5nfSBvcHRpb25zIOaOkuW6j+aWueW8j1xyXG4gICAgICogQHBhcmFtcyB7TnVtYmVyfSBvcHRpb25zIOWIhumhtemhteaVsFxyXG4gICAgICogQHBhcmFtcyB7TnVtYmVyfSBvcHRpb25zIOWIhumhteadoeaVsFxyXG4gICAgICovXHJcbiAgICBnZXRQb3N0OiBmdW5jdGlvbiAob3B0aW9ucywgc29ydCwgcGFnZSwgbGltaXQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5maW5kKG9wdGlvbnMpXHJcbiAgICAgICAgICAgIC5zb3J0KHtcclxuICAgICAgICAgICAgICAgIFtzb3J0XTogLTFcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnNraXAocGFnZSAqIGxpbWl0KVxyXG4gICAgICAgICAgICAubGltaXQobGltaXQpXHJcbiAgICAgICAgICAgIC5wb3B1bGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBwYXRoOiAndWlkJyxcclxuICAgICAgICAgICAgICAgIHNlbGVjdDogJ25hbWUgaXNWaXAgcGljJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBwb3N0TW9kZWwgPSBtb25nb29zZS5tb2RlbCgncG9zdCcsIFBvc3RTY2hlbWEpXHJcblxyXG5leHBvcnQgZGVmYXVsdCBwb3N0TW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/model/Post.js\n");

/***/ }),

/***/ "./src/model/SignRecord.js":
/*!*********************************!*\
  !*** ./src/model/SignRecord.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst SignRecordSchema = new Schema({\n  uid: {\n    type: String,\n    ref: 'users'\n  },\n  created: {\n    type: Date\n  },\n  favs: {\n    type: Number\n  }\n});\nSignRecordSchema.pre('save', function (next) {\n  this.created = dayjs__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD HH:mm:ss');\n  next();\n}); // 定义静态方法\n\nSignRecordSchema.statics = {\n  findByUid: function (uid) {\n    return this.findOne({\n      uid: uid\n    }).sort({\n      created: -1\n    });\n  }\n}; // 让sechma和model与mongoDB进行对应\n\nconst SignRecord = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('sign_record', SignRecordSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (SignRecord);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvU2lnblJlY29yZC5qcz83YzliIl0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwiU2lnblJlY29yZFNjaGVtYSIsInVpZCIsInR5cGUiLCJTdHJpbmciLCJyZWYiLCJjcmVhdGVkIiwiRGF0ZSIsImZhdnMiLCJOdW1iZXIiLCJwcmUiLCJuZXh0IiwibW9tZW50IiwiZm9ybWF0Iiwic3RhdGljcyIsImZpbmRCeVVpZCIsImZpbmRPbmUiLCJzb3J0IiwiU2lnblJlY29yZCIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLHlEQUFRLENBQUNELE1BQXhCO0FBRUEsTUFBTUUsZ0JBQWdCLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQ2hDRyxLQUFHLEVBQUU7QUFDREMsUUFBSSxFQUFFQyxNQURMO0FBRURDLE9BQUcsRUFBRTtBQUZKLEdBRDJCO0FBS2hDQyxTQUFPLEVBQUU7QUFDTEgsUUFBSSxFQUFFSTtBQURELEdBTHVCO0FBUWhDQyxNQUFJLEVBQUU7QUFDRkwsUUFBSSxFQUFFTTtBQURKO0FBUjBCLENBQVgsQ0FBekI7QUFhQVIsZ0JBQWdCLENBQUNTLEdBQWpCLENBQXFCLE1BQXJCLEVBQTZCLFVBQVVDLElBQVYsRUFBZ0I7QUFDekMsT0FBS0wsT0FBTCxHQUFlTSw0Q0FBTSxHQUFHQyxNQUFULENBQWdCLHFCQUFoQixDQUFmO0FBQ0FGLE1BQUk7QUFDUCxDQUhELEUsQ0FLQTs7QUFDQVYsZ0JBQWdCLENBQUNhLE9BQWpCLEdBQTJCO0FBQ3ZCQyxXQUFTLEVBQUUsVUFBVWIsR0FBVixFQUFlO0FBQ3RCLFdBQU8sS0FBS2MsT0FBTCxDQUFhO0FBQ2hCZCxTQUFHLEVBQUVBO0FBRFcsS0FBYixFQUVKZSxJQUZJLENBRUM7QUFDSlgsYUFBTyxFQUFFLENBQUM7QUFETixLQUZELENBQVA7QUFLSDtBQVBzQixDQUEzQixDLENBU0E7O0FBQ0EsTUFBTVksVUFBVSxHQUFHbEIseURBQVEsQ0FBQ21CLEtBQVQsQ0FBZSxhQUFmLEVBQThCbEIsZ0JBQTlCLENBQW5CO0FBRWVpQix5RUFBZiIsImZpbGUiOiIuL3NyYy9tb2RlbC9TaWduUmVjb3JkLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJy4uL2NvbmZpZy9EQkhlbHBsZXInXHJcbmltcG9ydCBtb21lbnQgZnJvbSAnZGF5anMnXHJcblxyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWFcclxuXHJcbmNvbnN0IFNpZ25SZWNvcmRTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHVpZDoge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICByZWY6ICd1c2VycydcclxuICAgIH0sXHJcbiAgICBjcmVhdGVkOiB7XHJcbiAgICAgICAgdHlwZTogRGF0ZVxyXG4gICAgfSxcclxuICAgIGZhdnM6IHtcclxuICAgICAgICB0eXBlOiBOdW1iZXJcclxuICAgIH0sXHJcbn0pXHJcblxyXG5TaWduUmVjb3JkU2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgICB0aGlzLmNyZWF0ZWQgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKVxyXG4gICAgbmV4dCgpXHJcbn0pXHJcblxyXG4vLyDlrprkuYnpnZnmgIHmlrnms5VcclxuU2lnblJlY29yZFNjaGVtYS5zdGF0aWNzID0ge1xyXG4gICAgZmluZEJ5VWlkOiBmdW5jdGlvbiAodWlkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZE9uZSh7XHJcbiAgICAgICAgICAgIHVpZDogdWlkXHJcbiAgICAgICAgfSkuc29ydCh7XHJcbiAgICAgICAgICAgIGNyZWF0ZWQ6IC0xXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG4vLyDorqlzZWNobWHlkoxtb2RlbOS4jm1vbmdvRELov5vooYzlr7nlupRcclxuY29uc3QgU2lnblJlY29yZCA9IG1vbmdvb3NlLm1vZGVsKCdzaWduX3JlY29yZCcsIFNpZ25SZWNvcmRTY2hlbWEpXHJcblxyXG5leHBvcnQgZGVmYXVsdCBTaWduUmVjb3JkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/model/SignRecord.js\n");

/***/ }),

/***/ "./src/model/User.js":
/*!***************************!*\
  !*** ./src/model/User.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/config/DBHelpler */ \"./src/config/DBHelpler.js\");\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst UserSchema = new Schema({\n  'username': {\n    type: String\n  },\n  'name': {\n    type: String\n  },\n  'password': {\n    type: String\n  }\n});\nUserSchema.post('save', function (error, doc, next) {\n  if (error.name === 'MongoError' && error.code === 11000) {\n    next(new Error('Error: Mongoose has a duplicate key.'));\n  } else {\n    next(error);\n  }\n});\nUserSchema.statics = {\n  // 这个地方的返回数据屏蔽了password，username，mobile\n  findByID: function (id) {\n    return this.findOne({\n      _id: id\n    }, {\n      password: 0,\n      username: 0,\n      mobile: 0\n    });\n  },\n  updateOneByID: function (id, obj) {\n    return this.updateOne({\n      _id: id\n    }, obj);\n  }\n};\nconst UserModel = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('users', UserSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserModel);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvVXNlci5qcz83NmZlIl0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwiVXNlclNjaGVtYSIsInR5cGUiLCJTdHJpbmciLCJwb3N0IiwiZXJyb3IiLCJkb2MiLCJuZXh0IiwibmFtZSIsImNvZGUiLCJFcnJvciIsInN0YXRpY3MiLCJmaW5kQnlJRCIsImlkIiwiZmluZE9uZSIsIl9pZCIsInBhc3N3b3JkIiwidXNlcm5hbWUiLCJtb2JpbGUiLCJ1cGRhdGVPbmVCeUlEIiwib2JqIiwidXBkYXRlT25lIiwiVXNlck1vZGVsIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxVQUFVLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQzVCLGNBQVk7QUFDVkcsUUFBSSxFQUFFQztBQURJLEdBRGdCO0FBSTVCLFVBQVE7QUFDTkQsUUFBSSxFQUFFQztBQURBLEdBSm9CO0FBTzVCLGNBQVk7QUFDVkQsUUFBSSxFQUFFQztBQURJO0FBUGdCLENBQVgsQ0FBbkI7QUFZQUYsVUFBVSxDQUFDRyxJQUFYLENBQWdCLE1BQWhCLEVBQXdCLFVBQVVDLEtBQVYsRUFBaUJDLEdBQWpCLEVBQXNCQyxJQUF0QixFQUE0QjtBQUNsRCxNQUFJRixLQUFLLENBQUNHLElBQU4sS0FBZSxZQUFmLElBQStCSCxLQUFLLENBQUNJLElBQU4sS0FBZSxLQUFsRCxFQUF5RDtBQUN2REYsUUFBSSxDQUFDLElBQUlHLEtBQUosQ0FBVSxzQ0FBVixDQUFELENBQUo7QUFDRCxHQUZELE1BRU87QUFDTEgsUUFBSSxDQUFDRixLQUFELENBQUo7QUFDRDtBQUNGLENBTkQ7QUFRQUosVUFBVSxDQUFDVSxPQUFYLEdBQXFCO0FBQ25CO0FBQ0FDLFVBQVEsRUFBRSxVQUFVQyxFQUFWLEVBQWM7QUFDdEIsV0FBTyxLQUFLQyxPQUFMLENBQWE7QUFDbEJDLFNBQUcsRUFBRUY7QUFEYSxLQUFiLEVBRUo7QUFDREcsY0FBUSxFQUFFLENBRFQ7QUFFREMsY0FBUSxFQUFFLENBRlQ7QUFHREMsWUFBTSxFQUFFO0FBSFAsS0FGSSxDQUFQO0FBT0QsR0FWa0I7QUFXbkJDLGVBQWEsRUFBRSxVQUFVTixFQUFWLEVBQWNPLEdBQWQsRUFBbUI7QUFDaEMsV0FBTyxLQUFLQyxTQUFMLENBQWU7QUFDcEJOLFNBQUcsRUFBRUY7QUFEZSxLQUFmLEVBRUpPLEdBRkksQ0FBUDtBQUdEO0FBZmtCLENBQXJCO0FBa0JBLE1BQU1FLFNBQVMsR0FBR3RCLHlEQUFRLENBQUN1QixLQUFULENBQWUsT0FBZixFQUF3QnRCLFVBQXhCLENBQWxCO0FBRWVxQix3RUFBZiIsImZpbGUiOiIuL3NyYy9tb2RlbC9Vc2VyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ0AvY29uZmlnL0RCSGVscGxlcidcclxuXHJcbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYVxyXG5cclxuY29uc3QgVXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICd1c2VybmFtZSc6IHtcclxuICAgIHR5cGU6IFN0cmluZ1xyXG4gIH0sXHJcbiAgJ25hbWUnOiB7XHJcbiAgICB0eXBlOiBTdHJpbmdcclxuICB9LFxyXG4gICdwYXNzd29yZCc6IHtcclxuICAgIHR5cGU6IFN0cmluZ1xyXG4gIH0sXHJcbn0pXHJcblxyXG5Vc2VyU2NoZW1hLnBvc3QoJ3NhdmUnLCBmdW5jdGlvbiAoZXJyb3IsIGRvYywgbmV4dCkge1xyXG4gIGlmIChlcnJvci5uYW1lID09PSAnTW9uZ29FcnJvcicgJiYgZXJyb3IuY29kZSA9PT0gMTEwMDApIHtcclxuICAgIG5leHQobmV3IEVycm9yKCdFcnJvcjogTW9uZ29vc2UgaGFzIGEgZHVwbGljYXRlIGtleS4nKSlcclxuICB9IGVsc2Uge1xyXG4gICAgbmV4dChlcnJvcilcclxuICB9XHJcbn0pXHJcblxyXG5Vc2VyU2NoZW1hLnN0YXRpY3MgPSB7XHJcbiAgLy8g6L+Z5Liq5Zyw5pa555qE6L+U5Zue5pWw5o2u5bGP6JS95LqGcGFzc3dvcmTvvIx1c2VybmFtZe+8jG1vYmlsZVxyXG4gIGZpbmRCeUlEOiBmdW5jdGlvbiAoaWQpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmRPbmUoe1xyXG4gICAgICBfaWQ6IGlkXHJcbiAgICB9LCB7XHJcbiAgICAgIHBhc3N3b3JkOiAwLFxyXG4gICAgICB1c2VybmFtZTogMCxcclxuICAgICAgbW9iaWxlOiAwXHJcbiAgICB9KVxyXG4gIH0sXHJcbiAgdXBkYXRlT25lQnlJRDogZnVuY3Rpb24gKGlkLCBvYmopIHtcclxuICAgIHJldHVybiB0aGlzLnVwZGF0ZU9uZSh7XHJcbiAgICAgIF9pZDogaWRcclxuICAgIH0sIG9iailcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IFVzZXJNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKCd1c2VycycsIFVzZXJTY2hlbWEpXHJcblxyXG5leHBvcnQgZGVmYXVsdCBVc2VyTW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/model/User.js\n");

/***/ }),

/***/ "./src/routes/modules sync recursive \\.js$":
/*!***************************************!*\
  !*** ./src/routes/modules sync \.js$ ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var map = {\n\t\"./contentRouter.js\": \"./src/routes/modules/contentRouter.js\",\n\t\"./loginRouter.js\": \"./src/routes/modules/loginRouter.js\",\n\t\"./publicRouter.js\": \"./src/routes/modules/publicRouter.js\",\n\t\"./userRouter.js\": \"./src/routes/modules/userRouter.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src/routes/modules sync recursive \\\\.js$\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMgc3luYyBcXC5qcyQ/NGUxMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIuL3NyYy9yb3V0ZXMvbW9kdWxlcyBzeW5jIHJlY3Vyc2l2ZSBcXC5qcyQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbWFwID0ge1xuXHRcIi4vY29udGVudFJvdXRlci5qc1wiOiBcIi4vc3JjL3JvdXRlcy9tb2R1bGVzL2NvbnRlbnRSb3V0ZXIuanNcIixcblx0XCIuL2xvZ2luUm91dGVyLmpzXCI6IFwiLi9zcmMvcm91dGVzL21vZHVsZXMvbG9naW5Sb3V0ZXIuanNcIixcblx0XCIuL3B1YmxpY1JvdXRlci5qc1wiOiBcIi4vc3JjL3JvdXRlcy9tb2R1bGVzL3B1YmxpY1JvdXRlci5qc1wiLFxuXHRcIi4vdXNlclJvdXRlci5qc1wiOiBcIi4vc3JjL3JvdXRlcy9tb2R1bGVzL3VzZXJSb3V0ZXIuanNcIlxufTtcblxuXG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0dmFyIGlkID0gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSk7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKGlkKTtcbn1cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhtYXAsIHJlcSkpIHtcblx0XHR2YXIgZSA9IG5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIgKyByZXEgKyBcIidcIik7XG5cdFx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHRcdHRocm93IGU7XG5cdH1cblx0cmV0dXJuIG1hcFtyZXFdO1xufVxud2VicGFja0NvbnRleHQua2V5cyA9IGZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0S2V5cygpIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG1hcCk7XG59O1xud2VicGFja0NvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZTtcbm1vZHVsZS5leHBvcnRzID0gd2VicGFja0NvbnRleHQ7XG53ZWJwYWNrQ29udGV4dC5pZCA9IFwiLi9zcmMvcm91dGVzL21vZHVsZXMgc3luYyByZWN1cnNpdmUgXFxcXC5qcyRcIjsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/routes/modules sync recursive \\.js$\n");

/***/ }),

/***/ "./src/routes/modules/contentRouter.js":
/*!*********************************************!*\
  !*** ./src/routes/modules/contentRouter.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_ContentController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/api/ContentController */ \"./src/api/ContentController.js\");\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/content'); // 上传图片\n\nrouter.post('/upload', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].uploadImg); // 发表新帖\n\nrouter.post('/add', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addPost);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvY29udGVudFJvdXRlci5qcz84YTEwIl0sIm5hbWVzIjpbInJvdXRlciIsIlJvdXRlciIsInByZWZpeCIsInBvc3QiLCJjb250ZW50Q29udHJvbGxlciIsInVwbG9hZEltZyIsImFkZFBvc3QiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBRyxJQUFJQyxpREFBSixFQUFmO0FBRUFELE1BQU0sQ0FBQ0UsTUFBUCxDQUFjLFVBQWQsRSxDQUNBOztBQUNBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxTQUFaLEVBQXVCQyw4REFBaUIsQ0FBQ0MsU0FBekMsRSxDQUVBOztBQUNBTCxNQUFNLENBQUNHLElBQVAsQ0FBWSxNQUFaLEVBQW9CQyw4REFBaUIsQ0FBQ0UsT0FBdEM7QUFHZU4scUVBQWYiLCJmaWxlIjoiLi9zcmMvcm91dGVzL21vZHVsZXMvY29udGVudFJvdXRlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSb3V0ZXIgZnJvbSAna29hLXJvdXRlcidcclxuaW1wb3J0IGNvbnRlbnRDb250cm9sbGVyIGZyb20gJ0AvYXBpL0NvbnRlbnRDb250cm9sbGVyJ1xyXG5cclxuY29uc3Qgcm91dGVyID0gbmV3IFJvdXRlcigpXHJcblxyXG5yb3V0ZXIucHJlZml4KCcvY29udGVudCcpXHJcbi8vIOS4iuS8oOWbvueJh1xyXG5yb3V0ZXIucG9zdCgnL3VwbG9hZCcsIGNvbnRlbnRDb250cm9sbGVyLnVwbG9hZEltZylcclxuXHJcbi8vIOWPkeihqOaWsOW4llxyXG5yb3V0ZXIucG9zdCgnL2FkZCcsIGNvbnRlbnRDb250cm9sbGVyLmFkZFBvc3QpXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routes/modules/contentRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/loginRouter.js":
/*!*******************************************!*\
  !*** ./src/routes/modules/loginRouter.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_LoginController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/api/LoginController */ \"./src/api/LoginController.js\");\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/login');\nrouter.post('/forget', _api_LoginController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].forget);\nrouter.post('/login', _api_LoginController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].login);\nrouter.post('/reg', _api_LoginController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].reg);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvbG9naW5Sb3V0ZXIuanM/MmRkYSJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJwcmVmaXgiLCJwb3N0IiwibG9naW5Db250cm9sbGVyIiwiZm9yZ2V0IiwibG9naW4iLCJyZWciXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBRyxJQUFJQyxpREFBSixFQUFmO0FBRUFELE1BQU0sQ0FBQ0UsTUFBUCxDQUFjLFFBQWQ7QUFFQUYsTUFBTSxDQUFDRyxJQUFQLENBQVksU0FBWixFQUF1QkMsNERBQWUsQ0FBQ0MsTUFBdkM7QUFDQUwsTUFBTSxDQUFDRyxJQUFQLENBQVksUUFBWixFQUFzQkMsNERBQWUsQ0FBQ0UsS0FBdEM7QUFDQU4sTUFBTSxDQUFDRyxJQUFQLENBQVksTUFBWixFQUFvQkMsNERBQWUsQ0FBQ0csR0FBcEM7QUFFZVAscUVBQWYiLCJmaWxlIjoiLi9zcmMvcm91dGVzL21vZHVsZXMvbG9naW5Sb3V0ZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUm91dGVyIGZyb20gJ2tvYS1yb3V0ZXInXHJcbmltcG9ydCBsb2dpbkNvbnRyb2xsZXIgZnJvbSAnQC9hcGkvTG9naW5Db250cm9sbGVyJ1xyXG5cclxuY29uc3Qgcm91dGVyID0gbmV3IFJvdXRlcigpXHJcblxyXG5yb3V0ZXIucHJlZml4KCcvbG9naW4nKVxyXG5cclxucm91dGVyLnBvc3QoJy9mb3JnZXQnLCBsb2dpbkNvbnRyb2xsZXIuZm9yZ2V0KVxyXG5yb3V0ZXIucG9zdCgnL2xvZ2luJywgbG9naW5Db250cm9sbGVyLmxvZ2luKVxyXG5yb3V0ZXIucG9zdCgnL3JlZycsIGxvZ2luQ29udHJvbGxlci5yZWcpXHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXJcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routes/modules/loginRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/publicRouter.js":
/*!********************************************!*\
  !*** ./src/routes/modules/publicRouter.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_PublicController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../api/PublicController */ \"./src/api/PublicController.js\");\n/* harmony import */ var _api_UserController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../api/UserController */ \"./src/api/UserController.js\");\n\n // import contentController from '../../api/ContentController'\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/public'); // 获取图片验证码\n\nrouter.get('/getCaptcha', _api_PublicController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getCaptcha); // // 获取文章列表\n// router.get('/list', contentController.getPostList)\n// // 温馨提示\n// router.get('/tips', contentController.getTips)\n// // 友情链接\n// router.get('/links', contentController.getLinks)\n// // 恢复周榜\n// router.get('/topweek', contentController.getTopweek)\n// 确认修改邮件\n\nrouter.get('/reset-email', _api_UserController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateUsername);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvcHVibGljUm91dGVyLmpzP2NmYzUiXSwibmFtZXMiOlsicm91dGVyIiwiUm91dGVyIiwicHJlZml4IiwiZ2V0IiwicHVibGljQ29udHJvbGxlciIsImdldENhcHRjaGEiLCJ1c2VyQ29udHJvbGxlciIsInVwZGF0ZVVzZXJuYW1lIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Q0FFQTs7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBRyxJQUFJQyxpREFBSixFQUFmO0FBRUFELE1BQU0sQ0FBQ0UsTUFBUCxDQUFjLFNBQWQsRSxDQUVBOztBQUNBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxhQUFYLEVBQTBCQyw2REFBZ0IsQ0FBQ0MsVUFBM0MsRSxDQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7QUFDQUwsTUFBTSxDQUFDRyxHQUFQLENBQVcsY0FBWCxFQUEyQkcsMkRBQWMsQ0FBQ0MsY0FBMUM7QUFFZVAscUVBQWYiLCJmaWxlIjoiLi9zcmMvcm91dGVzL21vZHVsZXMvcHVibGljUm91dGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJvdXRlciBmcm9tICdrb2Etcm91dGVyJ1xyXG5pbXBvcnQgcHVibGljQ29udHJvbGxlciBmcm9tICcuLi8uLi9hcGkvUHVibGljQ29udHJvbGxlcidcclxuLy8gaW1wb3J0IGNvbnRlbnRDb250cm9sbGVyIGZyb20gJy4uLy4uL2FwaS9Db250ZW50Q29udHJvbGxlcidcclxuaW1wb3J0IHVzZXJDb250cm9sbGVyIGZyb20gJy4uLy4uL2FwaS9Vc2VyQ29udHJvbGxlcidcclxuXHJcbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoKVxyXG5cclxucm91dGVyLnByZWZpeCgnL3B1YmxpYycpXHJcblxyXG4vLyDojrflj5blm77niYfpqozor4HnoIFcclxucm91dGVyLmdldCgnL2dldENhcHRjaGEnLCBwdWJsaWNDb250cm9sbGVyLmdldENhcHRjaGEpXHJcblxyXG4vLyAvLyDojrflj5bmlofnq6DliJfooahcclxuLy8gcm91dGVyLmdldCgnL2xpc3QnLCBjb250ZW50Q29udHJvbGxlci5nZXRQb3N0TGlzdClcclxuXHJcbi8vIC8vIOa4qemmqOaPkOekulxyXG4vLyByb3V0ZXIuZ2V0KCcvdGlwcycsIGNvbnRlbnRDb250cm9sbGVyLmdldFRpcHMpXHJcblxyXG4vLyAvLyDlj4vmg4Xpk77mjqVcclxuLy8gcm91dGVyLmdldCgnL2xpbmtzJywgY29udGVudENvbnRyb2xsZXIuZ2V0TGlua3MpXHJcblxyXG4vLyAvLyDmgaLlpI3lkajmppxcclxuLy8gcm91dGVyLmdldCgnL3RvcHdlZWsnLCBjb250ZW50Q29udHJvbGxlci5nZXRUb3B3ZWVrKVxyXG5cclxuLy8g56Gu6K6k5L+u5pS56YKu5Lu2XHJcbnJvdXRlci5nZXQoJy9yZXNldC1lbWFpbCcsIHVzZXJDb250cm9sbGVyLnVwZGF0ZVVzZXJuYW1lKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routes/modules/publicRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/userRouter.js":
/*!******************************************!*\
  !*** ./src/routes/modules/userRouter.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_UserController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../api/UserController */ \"./src/api/UserController.js\");\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/user'); // 用户签到\n\nrouter.get('/fav', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].userSign); // 更新用户的基本信息\n\nrouter.post('/basic', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateUserInfo); // 获取历史消息\n\nrouter.get('/getmsg', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMsg);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvdXNlclJvdXRlci5qcz8xZjNjIl0sIm5hbWVzIjpbInJvdXRlciIsIlJvdXRlciIsInByZWZpeCIsImdldCIsInVzZXJDb250cm9sbGVyIiwidXNlclNpZ24iLCJwb3N0IiwidXBkYXRlVXNlckluZm8iLCJnZXRNc2ciXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBRyxJQUFJQyxpREFBSixFQUFmO0FBRUFELE1BQU0sQ0FBQ0UsTUFBUCxDQUFjLE9BQWQsRSxDQUVBOztBQUNBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxNQUFYLEVBQW1CQywyREFBYyxDQUFDQyxRQUFsQyxFLENBQ0E7O0FBQ0FMLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLFFBQVosRUFBc0JGLDJEQUFjLENBQUNHLGNBQXJDLEUsQ0FFQTs7QUFDQVAsTUFBTSxDQUFDRyxHQUFQLENBQVcsU0FBWCxFQUFzQkMsMkRBQWMsQ0FBQ0ksTUFBckM7QUFHZVIscUVBQWYiLCJmaWxlIjoiLi9zcmMvcm91dGVzL21vZHVsZXMvdXNlclJvdXRlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSb3V0ZXIgZnJvbSAna29hLXJvdXRlcidcclxuaW1wb3J0IHVzZXJDb250cm9sbGVyIGZyb20gJy4uLy4uL2FwaS9Vc2VyQ29udHJvbGxlcidcclxuXHJcbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoKVxyXG5cclxucm91dGVyLnByZWZpeCgnL3VzZXInKVxyXG5cclxuLy8g55So5oi3562+5YiwXHJcbnJvdXRlci5nZXQoJy9mYXYnLCB1c2VyQ29udHJvbGxlci51c2VyU2lnbilcclxuLy8g5pu05paw55So5oi355qE5Z+65pys5L+h5oGvXHJcbnJvdXRlci5wb3N0KCcvYmFzaWMnLCB1c2VyQ29udHJvbGxlci51cGRhdGVVc2VySW5mbylcclxuXHJcbi8vIOiOt+WPluWOhuWPsua2iOaBr1xyXG5yb3V0ZXIuZ2V0KCcvZ2V0bXNnJywgdXNlckNvbnRyb2xsZXIuZ2V0TXNnKVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/routes/modules/userRouter.js\n");

/***/ }),

/***/ "./src/routes/routes.js":
/*!******************************!*\
  !*** ./src/routes/routes.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_combine_routers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-combine-routers */ \"koa-combine-routers\");\n/* harmony import */ var koa_combine_routers__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_combine_routers__WEBPACK_IMPORTED_MODULE_0__);\n // import publicRouter from './publicRouter'\n// import loginRouter from './loginRouter'\n// import userRouter from './userRouter'\n// ...\n// 当路由变多的时候，上面的import会非常的多，会变得难以阅读\n// 利用webpack提供的打包优化功能：\n// 使用require.context把一个目录下的文件全部给import进来\n// 加载目录中的Router的中间件\n\nconst moduleFiles = __webpack_require__(\"./src/routes/modules sync recursive \\\\.js$\"); // reduce方法去拼接koa-combine-routers所需的数据结构Object[]\n\n\nconst modules = moduleFiles.keys().reduce((items, path) => {\n  const value = moduleFiles(path);\n  items.push(value.default);\n  return items;\n}, []);\n/* harmony default export */ __webpack_exports__[\"default\"] = (koa_combine_routers__WEBPACK_IMPORTED_MODULE_0___default()( // publicRouter, loginRouter, userRouter\nmodules)); // 经过上面的处理之后，下面再添加路由，直接就在modules中添加，这里就自动引入了\n// modules文件夹甚至也可以再新建文件夹，这里也都可以自动引入//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL3JvdXRlcy5qcz82NDFiIl0sIm5hbWVzIjpbIm1vZHVsZUZpbGVzIiwicmVxdWlyZSIsIm1vZHVsZXMiLCJrZXlzIiwicmVkdWNlIiwiaXRlbXMiLCJwYXRoIiwidmFsdWUiLCJwdXNoIiwiZGVmYXVsdCIsImNvbWJpbmVSb3V0ZXMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtDQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0EsTUFBTUEsV0FBVyxHQUFHQyxpRUFBcEIsQyxDQUNBOzs7QUFDQSxNQUFNQyxPQUFPLEdBQUdGLFdBQVcsQ0FBQ0csSUFBWixHQUFtQkMsTUFBbkIsQ0FBMEIsQ0FBQ0MsS0FBRCxFQUFRQyxJQUFSLEtBQWlCO0FBQ3ZELFFBQU1DLEtBQUssR0FBR1AsV0FBVyxDQUFDTSxJQUFELENBQXpCO0FBQ0FELE9BQUssQ0FBQ0csSUFBTixDQUFXRCxLQUFLLENBQUNFLE9BQWpCO0FBQ0EsU0FBT0osS0FBUDtBQUNILENBSmUsRUFJYixFQUphLENBQWhCO0FBTWVLLHlIQUFhLEVBQ3hCO0FBQ0FSLE9BRndCLENBQTVCLEUsQ0FLQTtBQUNBIiwiZmlsZSI6Ii4vc3JjL3JvdXRlcy9yb3V0ZXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY29tYmluZVJvdXRlcyBmcm9tICdrb2EtY29tYmluZS1yb3V0ZXJzJ1xyXG5cclxuLy8gaW1wb3J0IHB1YmxpY1JvdXRlciBmcm9tICcuL3B1YmxpY1JvdXRlcidcclxuLy8gaW1wb3J0IGxvZ2luUm91dGVyIGZyb20gJy4vbG9naW5Sb3V0ZXInXHJcbi8vIGltcG9ydCB1c2VyUm91dGVyIGZyb20gJy4vdXNlclJvdXRlcidcclxuLy8gLi4uXHJcbi8vIOW9k+i3r+eUseWPmOWkmueahOaXtuWAme+8jOS4iumdoueahGltcG9ydOS8mumdnuW4uOeahOWkmu+8jOS8muWPmOW+l+mavuS7pemYheivu1xyXG4vLyDliKnnlKh3ZWJwYWNr5o+Q5L6b55qE5omT5YyF5LyY5YyW5Yqf6IO977yaXHJcbi8vIOS9v+eUqHJlcXVpcmUuY29udGV4dOaKiuS4gOS4quebruW9leS4i+eahOaWh+S7tuWFqOmDqOe7mWltcG9ydOi/m+adpVxyXG4vLyDliqDovb3nm67lvZXkuK3nmoRSb3V0ZXLnmoTkuK3pl7Tku7ZcclxuY29uc3QgbW9kdWxlRmlsZXMgPSByZXF1aXJlLmNvbnRleHQoJy4vbW9kdWxlcycsIHRydWUsIC9cXC5qcyQvKVxyXG4vLyByZWR1Y2Xmlrnms5Xljrvmi7zmjqVrb2EtY29tYmluZS1yb3V0ZXJz5omA6ZyA55qE5pWw5o2u57uT5p6ET2JqZWN0W11cclxuY29uc3QgbW9kdWxlcyA9IG1vZHVsZUZpbGVzLmtleXMoKS5yZWR1Y2UoKGl0ZW1zLCBwYXRoKSA9PiB7XHJcbiAgICBjb25zdCB2YWx1ZSA9IG1vZHVsZUZpbGVzKHBhdGgpXHJcbiAgICBpdGVtcy5wdXNoKHZhbHVlLmRlZmF1bHQpXHJcbiAgICByZXR1cm4gaXRlbXNcclxufSwgW10pXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjb21iaW5lUm91dGVzKFxyXG4gICAgLy8gcHVibGljUm91dGVyLCBsb2dpblJvdXRlciwgdXNlclJvdXRlclxyXG4gICAgbW9kdWxlc1xyXG4pXHJcblxyXG4vLyDnu4/ov4fkuIrpnaLnmoTlpITnkIbkuYvlkI7vvIzkuIvpnaLlho3mt7vliqDot6/nlLHvvIznm7TmjqXlsLHlnKhtb2R1bGVz5Lit5re75Yqg77yM6L+Z6YeM5bCx6Ieq5Yqo5byV5YWl5LqGXHJcbi8vIG1vZHVsZXPmlofku7blpLnnlJroh7PkuZ/lj6/ku6Xlho3mlrDlu7rmlofku7blpLnvvIzov5nph4zkuZ/pg73lj6/ku6Xoh6rliqjlvJXlhaUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/routes/routes.js\n");

/***/ }),

/***/ "@koa/cors":
/*!****************************!*\
  !*** external "@koa/cors" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"@koa/cors\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAa29hL2NvcnNcIj9hNjk1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IkBrb2EvY29ycy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkBrb2EvY29yc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///@koa/cors\n");

/***/ }),

/***/ "bcrypt":
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"bcrypt\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJiY3J5cHRcIj9jZjljIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6ImJjcnlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJjcnlwdFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///bcrypt\n");

/***/ }),

/***/ "bluebird":
/*!***************************!*\
  !*** external "bluebird" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"bluebird\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJibHVlYmlyZFwiPzJjNmIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiYmx1ZWJpcmQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJibHVlYmlyZFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///bluebird\n");

/***/ }),

/***/ "dayjs":
/*!************************!*\
  !*** external "dayjs" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"dayjs\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkYXlqc1wiPzNhYTAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiZGF5anMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJkYXlqc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///dayjs\n");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"fs\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJmc1wiP2E0MGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiZnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///fs\n");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"jsonwebtoken\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqc29ud2VidG9rZW5cIj82NDkwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Impzb253ZWJ0b2tlbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///jsonwebtoken\n");

/***/ }),

/***/ "koa":
/*!**********************!*\
  !*** external "koa" ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2FcIj9lZWI5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6ImtvYS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImtvYVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa\n");

/***/ }),

/***/ "koa-body":
/*!***************************!*\
  !*** external "koa-body" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-body\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtYm9keVwiPzNmNjUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoia29hLWJvZHkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtYm9keVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-body\n");

/***/ }),

/***/ "koa-combine-routers":
/*!**************************************!*\
  !*** external "koa-combine-routers" ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-combine-routers\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29tYmluZS1yb3V0ZXJzXCI/MmM3NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2EtY29tYmluZS1yb3V0ZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLWNvbWJpbmUtcm91dGVyc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-combine-routers\n");

/***/ }),

/***/ "koa-compose":
/*!******************************!*\
  !*** external "koa-compose" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-compose\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29tcG9zZVwiPzczMTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoia29hLWNvbXBvc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtY29tcG9zZVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-compose\n");

/***/ }),

/***/ "koa-compress":
/*!*******************************!*\
  !*** external "koa-compress" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-compress\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29tcHJlc3NcIj9hNmY2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6ImtvYS1jb21wcmVzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImtvYS1jb21wcmVzc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-compress\n");

/***/ }),

/***/ "koa-helmet":
/*!*****************************!*\
  !*** external "koa-helmet" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-helmet\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtaGVsbWV0XCI/NDJkMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2EtaGVsbWV0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLWhlbG1ldFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-helmet\n");

/***/ }),

/***/ "koa-json":
/*!***************************!*\
  !*** external "koa-json" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-json\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtanNvblwiPzY1MjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoia29hLWpzb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtanNvblwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-json\n");

/***/ }),

/***/ "koa-jwt":
/*!**************************!*\
  !*** external "koa-jwt" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-jwt\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2Etand0XCI/ZWIwZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2Etand0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLWp3dFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-jwt\n");

/***/ }),

/***/ "koa-router":
/*!*****************************!*\
  !*** external "koa-router" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-router\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2Etcm91dGVyXCI/MDM1ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2Etcm91dGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLXJvdXRlclwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-router\n");

/***/ }),

/***/ "koa-static":
/*!*****************************!*\
  !*** external "koa-static" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-static\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2Etc3RhdGljXCI/OWE0YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2Etc3RhdGljLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLXN0YXRpY1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-static\n");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"mongoose\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb25nb29zZVwiP2ZmZDciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoibW9uZ29vc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtb25nb29zZVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///mongoose\n");

/***/ }),

/***/ "nodemailer":
/*!*****************************!*\
  !*** external "nodemailer" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"nodemailer\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJub2RlbWFpbGVyXCI/M2Q1NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJub2RlbWFpbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibm9kZW1haWxlclwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///nodemailer\n");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"path\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXRoXCI/NzRiYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJwYXRoLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGF0aFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///path\n");

/***/ }),

/***/ "qs":
/*!*********************!*\
  !*** external "qs" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"qs\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJxc1wiP2E1YjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoicXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJxc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///qs\n");

/***/ }),

/***/ "redis":
/*!************************!*\
  !*** external "redis" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"redis\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWRpc1wiPzcwNmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoicmVkaXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWRpc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///redis\n");

/***/ }),

/***/ "svg-captcha":
/*!******************************!*\
  !*** external "svg-captcha" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"svg-captcha\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJzdmctY2FwdGNoYVwiP2NjNjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoic3ZnLWNhcHRjaGEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJzdmctY2FwdGNoYVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///svg-captcha\n");

/***/ }),

/***/ "uuid/dist/v4":
/*!*******************************!*\
  !*** external "uuid/dist/v4" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"uuid/dist/v4\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ1dWlkL2Rpc3QvdjRcIj85ZDcyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6InV1aWQvZGlzdC92NC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInV1aWQvZGlzdC92NFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///uuid/dist/v4\n");

/***/ }),

/***/ "ws":
/*!*********************!*\
  !*** external "ws" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"ws\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ3c1wiPzE1YTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoid3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ3c1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///ws\n");

/***/ })

/******/ });